<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Zen Cart Documentation â€“ Email</title>
    <link>/zendocs_test1/user/email/</link>
    <description>Recent content in Email on Zen Cart Documentation</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="/zendocs_test1/user/email/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>User: Introduction to Email in Zen Cart</title>
      <link>/zendocs_test1/user/email/email_introduction/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/email_introduction/</guid>
      <description>
        
        
        &lt;p&gt;Zen Cart&amp;rsquo;s email infrastructure is largely dependent on the services available to your webserver. This includes internet connection issues, available ports, as well as PHP configuration options and the programs/services running on your server.&lt;/p&gt;
&lt;h2 id=&#34;zen-cart-email-infrastructure-explained&#34;&gt;Zen Cart Email Infrastructure Explained&lt;/h2&gt;
&lt;p&gt;Here&amp;rsquo;s how Zen Cart&amp;rsquo;s email interface works:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;Admin&lt;/em&gt; and &lt;em&gt;Store&lt;/em&gt; both use the same infrastructure.&lt;/li&gt;
&lt;li&gt;Zen Cart uses PHPMailer for sending mail.&lt;/li&gt;
&lt;li&gt;Wherever an email is sent, it is initiated via &lt;code&gt;zen_mail()&lt;/code&gt; which is in the &lt;code&gt;includes/functions/functions_email.php&lt;/code&gt;. This builds the email object according to all your settings in Admin &amp;gt; Config &amp;gt; Email options.
&lt;ul&gt;
&lt;li&gt;transport method: PHP, smtp, sendmail, sendmail-f, smtpauth, etc.&lt;/li&gt;
&lt;li&gt;text-only vs HTML formatted&lt;/li&gt;
&lt;li&gt;sent to, sendfrom&lt;/li&gt;
&lt;li&gt;&amp;hellip; everything from that section, really.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Then it hands the email off to PHPMailer to send it.
&lt;ul&gt;
&lt;li&gt;If the transport is SMTP/SMPTAUTH, then direct communication with the specified mailserver is initiated. &lt;strong&gt;SMTPAUTH IS THE RECOMMENDED TRANSPORT.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;If the transport is &amp;ldquo;PHP&amp;rdquo;, then the server&amp;rsquo;s PHP configuration takes over entirely, using whatever PHP has been configured to use in the server&amp;rsquo;s php.ini settings.&lt;/li&gt;
&lt;li&gt;If the transport is a sendmail function, then the server attempts to use the sendmail program on your webserver.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;If email archiving is enabled and no error message is encountered (ie: the email is delivered without being rejected by the sending server), the email is stored to the &lt;code&gt;email_archive&lt;/code&gt; database table. Note that if you wish to use email archiving, you probably also want to use the &lt;a href=&#34;/zendocs_test1/user/email/email_archive_manager/&#34;&gt;Email Archive Manager&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;If an error occurs, then the error details are logged into the /logs/ folder as &amp;ldquo;myDEBUG-xxxxxx.log&amp;rdquo; files.  See &lt;a href=&#34;/zendocs_test1/user/troubleshooting/debug_logs/&#34;&gt;reading a myDEBUG log&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;prerequisites&#34;&gt;Prerequisites&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Your webserver must have a mail service enabled. For Linux/Unix hosts, this is typically done via sendmail or exim or qmail daemons. On Windows servers, this may be done via services offered with IIS.&lt;/li&gt;
&lt;li&gt;Your webserver must allow email connections from PHP.&lt;/li&gt;
&lt;li&gt;If you are using sendmail options, then the PHP configuration for sendmail functions must be configured properly on the server.&lt;/li&gt;
&lt;li&gt;You must have an unrestricted connection to the mailserver you&amp;rsquo;re sending through.
&lt;ul&gt;
&lt;li&gt;If you are running from a home-based server (ie: for testing), note that your ISP may automatically have port 25 blocked so that you have to send mail through their server. In this case, use SMTP for your transport method, and supply your ISP&amp;rsquo;s mailserver as your SMTP host.&lt;/li&gt;
&lt;li&gt;If your webhost mailserver is reachable on another port, supply that port number in the SMTP settings.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;diagnosing-problems&#34;&gt;Diagnosing Problems&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;change transport methods (ask your host what&amp;rsquo;s best &amp;hellip; they should know how they&amp;rsquo;ve configured your server).
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;code&gt;SMTPAUTH&lt;/code&gt; is least likely to end up getting treated as spam.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;change send-from email addresses (Admin &amp;gt; Configuration &amp;gt; Email Options). This should be an email associated with your server&amp;rsquo;s domain. Preferably not a &amp;ldquo;free email account&amp;rdquo; such as Gmail, since your server is &lt;em&gt;not&lt;/em&gt; a Gmail server and therefore your emails would be seen as spammy impersonation attempts, unless you&amp;rsquo;re using SMTPAUTH properly configured for your account.
&lt;ul&gt;
&lt;li&gt;MAKE SURE THE ADDRESS IS VALID.&lt;/li&gt;
&lt;li&gt;It is recommended to use an email account linked to the same domain name as your store. Attempting to masquerade with a different email address makes your emails prime candidates for being treated as junkmail, and thus not delivered.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;change send-to email addresses &amp;hellip; DO NOT TEST USING FREE MAIL SERVICES &amp;hellip; your mail is often dropped to a junkmail black hole.&lt;/li&gt;
&lt;li&gt;be sure there are no embedded carriage returns in your send-to email addresses.&lt;/li&gt;
&lt;li&gt;check your junkmail settings.&lt;/li&gt;
&lt;li&gt;research whether your mailserver or hosting company is blacklisted (you can check &lt;a href=&#34;http://www.mxtoolbox.com/blacklists.aspx&#34;&gt;http://www.mxtoolbox.com/blacklists.aspx&lt;/a&gt; or search online for &lt;em&gt;smtp blacklist&lt;/em&gt; for additional resources)&lt;/li&gt;
&lt;li&gt;try setting the option for &lt;strong&gt;Emails must send from known domain?&lt;/strong&gt; to true. This causes the email &amp;ldquo;sender&amp;rdquo; address to be more aligned to your own website, and thus less likely to be rejected while processing. This should always be set to true nowadays.&lt;/li&gt;
&lt;li&gt;try testing with HTML emails OFF, since many spam filters block HTML-formatted messages before they even get out the gate.&lt;/li&gt;
&lt;li&gt;check the mailserver logs &amp;hellip; is it complaining about something, either inbound or outbound?&lt;/li&gt;
&lt;li&gt;for kicks, get the webserver/mailserver rebooted and dump all the logs &amp;hellip; just maybe something&amp;rsquo;s runamuck in there &amp;hellip;&lt;/li&gt;
&lt;li&gt;Try enabling Email Archiving (Admin &amp;gt; Configuration &amp;gt; Email Options &amp;gt; Email Archiving). Then install the &lt;a href=&#34;/zendocs_test1/user/email/email_archive_manager/&#34;&gt;Email Archive Manager&lt;/a&gt; from the Zen Cart Downloads section (in admin tools), and confirm that the emails are actually being sent from Zen Cart. If it&amp;rsquo;s in the archive, it was handed off to the mailserver. Once the email leaves Zen Cart, it&amp;rsquo;s at the mercy of your mailserver.&lt;/li&gt;
&lt;li&gt;Look at your raw/full email headers. Does the &amp;ldquo;from&amp;rdquo; address appear to be a &amp;ldquo;nobody@xxxxxxx&amp;rdquo; address? Some hosts block these. The &amp;ldquo;email must send from known domain&amp;rdquo; setting is designed to counteract this. The SMTPAUTH setting also helps to work around this.&lt;/li&gt;
&lt;li&gt;This is RARE: If using &amp;ldquo;sendmail&amp;rdquo; and your &amp;ldquo;sendmail&amp;rdquo; path on your webserver is not the default of /usr/sbin/sendmail then you can override the default by adding a definition for it in a new file on your server: /includes/extra_datafiles/email_sendmail_override.php &amp;hellip; create a define for EMAIL_SENDMAIL_PATH and point it to the actual sendmail path for your particular host. This should not be necessary, and usually using &amp;ldquo;PHP&amp;rdquo; as transport method will correct it without making this edit.&lt;/li&gt;
&lt;li&gt;Also rare: Does your server require 7bit mail encoding instead of the default 8bit? If so, edit the /includes/extra_configures.email_use_8bit.php file and put // before the define statement there.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If the email doesn&amp;rsquo;t get to its destination, then usually the problem is a misconfiguration of the MTA or the host is blacklisted somewhere, or ports are blocked or &amp;hellip; well &amp;hellip; the probable causes are for a system administrator to understand.&lt;/p&gt;
&lt;h3 id=&#34;more-troubleshooting-ideas&#34;&gt;More Troubleshooting Ideas&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/email/emails_not_received/&#34;&gt;Basic email troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/&#34;&gt;Advanced Email Troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;troubleshooting-questions-for-your-hosting-company&#34;&gt;Troubleshooting Questions for your Hosting Company&lt;/h3&gt;
&lt;p&gt;Have you asked your hosting company what the right configuration is for your server to send mail most appropriately?&lt;/p&gt;
&lt;p&gt;As far as Zen Cart is concerned, you have these options. Ask your host what they require:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mail Transport &amp;hellip; best to use SMTPAUTH, and supply your mailbox credentials in the SMTP settings&lt;/li&gt;
&lt;li&gt;Emails must send from known domain &amp;hellip; true/false (ie: does the server accept emails that have &amp;ldquo;from headers&amp;rdquo; set to external domains, or only it&amp;rsquo;s own domains?) Best to set to true.&lt;/li&gt;
&lt;li&gt;SMTP port to use &amp;hellip; 25, or 587 for TLS, or sometimes 465 for old SSL mode.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If your &amp;ldquo;contact us&amp;rdquo; emails are not arriving at the desired destinations, try emptying the &amp;ldquo;contact us pulldown&amp;rdquo; list. This will force it to use your Store Owner email address and bypass the occasional confusion encountered with properly formatting addresses for the pulldown list.&lt;/p&gt;
&lt;p&gt;As mentioned earlier, if the emails are showing in the archive log (assuming you&amp;rsquo;ve enabled it), then Zen Cart is generating the message and handing it off to your webserver to send. If it&amp;rsquo;s not being delivered, then either your webserver is dumping it, or the recipient is not getting it, possibly due to frequent spam from your webhost or other reasons. &lt;strong&gt;Perhaps your hosting company will offer you some assistance or at least explain how their servers are configured so that you can determine the right setting for your hosting environment. They know your server better than anyone.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ask your host whether your/their mailserver is blacklisted by anyone. If so, try to get the blacklisting removed.&lt;/p&gt;
&lt;p&gt;Is your account&amp;rsquo;s SPF record correct? DKIM?  In cPanel you can add SPF and DKIM records using the &amp;ldquo;Email Deliverability&amp;rdquo; application.   Work with your hoster if you are unsure about this.&lt;/p&gt;
&lt;p&gt;AOL and Hotmail dump emails originating from server/client IP addresses that fail DNS reverse lookup. You should talk to your webhost to ensure that your webserver and hosting account / domain are properly configured with a PTR or DNS reverse lookup.&lt;/p&gt;
&lt;h3 id=&#34;email-treated-as-spam&#34;&gt;Email Treated As Spam?&lt;/h3&gt;
&lt;p&gt;You might want to register your domain with &lt;a href=&#34;https://postmaster.google.com/&#34;&gt;Google Postmaster Tools&lt;/a&gt; to let it collect data about emails you send to recipients using Google&amp;rsquo;s email platform, so that it can report to you any issues it detects with emails you&amp;rsquo;re sending to them.&lt;/p&gt;
&lt;p&gt;Also see &lt;a href=&#34;/zendocs_test1/user/email/spam/&#34;&gt;email treated as spam&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Basic Email Troubleshooting</title>
      <link>/zendocs_test1/user/email/emails_not_received/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/emails_not_received/</guid>
      <description>
        
        
        &lt;h2 id=&#34;testing-email&#34;&gt;Testing Email&lt;/h2&gt;
&lt;p&gt;The easiest way to test email from your cart is to create an account in your store using a non-free email address, and then finding that account in Admin &amp;gt; Customers &amp;gt; Customers, and using the &lt;em&gt;Email&lt;/em&gt; button on the right sidebar.&lt;/p&gt;
&lt;h2 id=&#34;before-you-start-testing&#34;&gt;Before you start testing&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ALWAYS test on a NON-free email address.  Do not test with a yahoo, hotmail, msn, aol, etc address exclusively.&lt;/li&gt;
&lt;li&gt;You may need to test on multiple email addresses (by creating multiple store accounts) because some email services will drop email before even putting it in the junk folder.&lt;/li&gt;
&lt;li&gt;All email settings are shown in the screen &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;symptom-emails-sent-from-the-cart-are-not-arriving&#34;&gt;Symptom: Emails sent from the cart are not arriving&lt;/h3&gt;
&lt;p&gt;This is also called &amp;ldquo;undeliverable mail.&amp;rdquo; You might see an error message that says something like &amp;ldquo;The mail server could not deliver mail to &lt;a href=&#34;mailto:joe@example.com&#34;&gt;joe@example.com&lt;/a&gt;. The account or domain may not exist, they may be blacklisted, or missing the proper dns entries.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Sometimes your mail server configuration requires a particular format in order to send messages.
Options to try include:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Enable &lt;code&gt;Emails Must Be Sent From Known Domain&lt;/code&gt; so that the &amp;ldquo;From&amp;rdquo; address is set properly&lt;/li&gt;
&lt;li&gt;Try a different Email Transport method](/user/email/email_transport_method/). 
Go to &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email Options&lt;/a&gt; and try them in this order: &lt;code&gt;php&lt;/code&gt;, &lt;code&gt;smtp/smtpauth&lt;/code&gt;, &lt;code&gt;sendmail&lt;/code&gt;, &lt;code&gt;sendmail -f&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;With SMTPAuth, you must enter your password in the &lt;em&gt;SMTP Email Account Password&lt;/em&gt; field.  Has your cPanel password changed recently?  If so, you may need to update the value in this field.&lt;/li&gt;
&lt;li&gt;Look on your hoster&amp;rsquo;s control panel and see if you can add SPF and DKIM records yourself to increase your email reputation.  In cPanel, this is done using the &amp;ldquo;Email Deliverability&amp;rdquo; application.   Work with your hoster if you are unsure about this. See &lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/#11-spf-dkim-and-dmarc&#34;&gt;SPF, DKIM and DMARC&lt;/a&gt; for more details.&lt;/li&gt;
&lt;li&gt;ALWAYS check to see whether a junk mail filter, spam block, or other blacklist system may have trapped your message before it could be delivered&lt;/li&gt;
&lt;li&gt;Try enabling the &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/#email_archiving_active&#34;&gt;Email Archiving&lt;/a&gt; feature. Then use the &lt;a href=&#34;/zendocs_test1/user/email/email_archive_manager/&#34;&gt;Email Archive Manager&lt;/a&gt; plugin to check and see whether Zen Cart really processed the email for sending. If it did, then the problem is related to how PHP is processing your messages after they leave Zen Cart.&lt;/li&gt;
&lt;li&gt;If the issue is arising from one particular customer, ask them to whitelist email from your domain.  For very strict filters, sometimes this is the only way to get through.&lt;/li&gt;
&lt;li&gt;Check if the customer&amp;rsquo;s &lt;a href=&#34;/zendocs_test1/user/running/mistyped_email/&#34;&gt;email address is mis-typed&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;symptom-email-from-address-shows-up-funny&#34;&gt;Symptom: Email FROM-ADDRESS shows up funny&lt;/h3&gt;
&lt;p&gt;If your &amp;ldquo;FROM&amp;rdquo; email addresses contain extra brackets &amp;ldquo;)&amp;rdquo;, this is due to having an incorrectly-formed email address defined in your store &lt;code&gt;Email Address (sent FROM)&lt;/code&gt; setting.&lt;/p&gt;
&lt;h3 id=&#34;symptom-contact-us-emails-arent-arriving&#34;&gt;Symptom: Contact-Us emails aren&amp;rsquo;t arriving&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;the Email From address may be malformed&lt;/li&gt;
&lt;li&gt;the Contact Us Pulldown contents may not be formatted properly. Note the required syntax next to the input field.&lt;/li&gt;
&lt;li&gt;Check if the customer&amp;rsquo;s &lt;a href=&#34;/zendocs_test1/user/running/mistyped_email/&#34;&gt;email address is mis-typed&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;further-email-troubleshooting&#34;&gt;Further Email Troubleshooting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;/zendocs_test1/user/email/email_introduction/#diagnosing-problems&#34;&gt;Diagnosing Email Problems&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/&#34;&gt;Advanced Email Troubleshooting&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting&#34;&gt;PHPMailer Troubleshooting Guide&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>User: Advanced Email Troubleshooting</title>
      <link>/zendocs_test1/user/email/advanced_email_troubleshooting/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/advanced_email_troubleshooting/</guid>
      <description>
        
        
        &lt;p&gt;If you&amp;rsquo;re having difficulties with email and your online store, this article will hopefully assist in resolving those problems.  Be sure you have reviewed the guidance in &lt;a href=&#34;/zendocs_test1/user/email/email_introduction/&#34;&gt;introduction to email&lt;/a&gt; and &lt;a href=&#34;/zendocs_test1/user/email/emails_not_received/&#34;&gt;emails not received&lt;/a&gt; before reading this.&lt;/p&gt;
&lt;h2 id=&#34;basic-troubleshooting&#34;&gt;Basic Troubleshooting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Make sure your domain is properly configured. We will cover the various settings and entities you need to have configured for your site domain to be able to send email.&lt;/li&gt;
&lt;li&gt;Make sure your email addresses are properly configured. We&amp;rsquo;ll discuss the required and recommended email addresses for your store, and some do-s and don&amp;rsquo;ts.&lt;/li&gt;
&lt;li&gt;Set up your Zen Cart mail system. We&amp;rsquo;ll cover the different email transports and the implications of their use.&lt;/li&gt;
&lt;li&gt;Email, black holes and singularities. I offer some sage advice on cybernetic entomology.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;email-and-your-online-store&#34;&gt;Email And Your Online Store&lt;/h2&gt;
&lt;p&gt;You&amp;rsquo;ve battled through the menus, the templates, the overrides, the tears and the joy, and your site is now ready. No it isn&amp;rsquo;t.&lt;/p&gt;
&lt;p&gt;One of the most important aspects of your online creation, and one of the most overlooked, is the email system. Your entire venture depends on your site being able to communicate with both you and your clients.&lt;/p&gt;
&lt;p&gt;And communication doesn&amp;rsquo;t mean just the visual appearance of the site and the product selection and layout. It means the much more mundane world of order confirmations and notifications, newsletters, password resets and delivery confirmations.&lt;/p&gt;
&lt;p&gt;You will find that contrary to your experience, sending email is not simply clicking the send button and submitting an email to a smiling group of swift-footed Mercury&amp;rsquo;s eager and willing to speed it to its destination. The mail servers of the world more resemble a glowering bunch of Trolls or Vogon bureaucrats meticulously eager to find any excuse to consign your email to the pending file or the shredder.&lt;/p&gt;
&lt;p&gt;Fortunately the cure is usually relatively simple. The Zen Cart developers go to great lengths to ensure that any emails generated by the system are as standards-compliant as possible, so that they are unlikely to attract the attention of Spam filters or &amp;lsquo;purist&amp;rsquo; mail server set-ups. You should certainly do the same. Unfortunately there are some instances where the Zen Cart mail set-up and your hosting company mail servers have no compatible mail transports. While that may be considered by some to be a good enough reason not to use their services, this is an extreme case and it is usually possible to find a workable compromise.&lt;/p&gt;
&lt;h2 id=&#34;quick-tips&#34;&gt;QUICK TIPS&lt;/h2&gt;
&lt;p&gt;For those looking for the quick-action tips, note the following: To minimize the likelihood of your emails getting rejected during a delivery attempt, we recommend:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;use a &amp;ldquo;real&amp;rdquo;, dedicated, paid-for, domain email-address as your store&amp;rsquo;s primary send-from address. Using a &amp;ldquo;free&amp;rdquo; email account as your send-from address will often cause your store emails to be dumped into a black hole.&lt;/li&gt;
&lt;li&gt;set &amp;ldquo;emails must send from known domain&amp;rdquo; to &amp;ldquo;true&amp;rdquo; (so that the email doesn&amp;rsquo;t look like it&amp;rsquo;s coming from someplace else)&lt;/li&gt;
&lt;li&gt;using the &amp;ldquo;PHP&amp;rdquo; transport method is common, and works for many hosts; however, SMTPAUTH tends to be less likely to land your sent messages into the bit-bucket, since to send the messages your account has to be validated&amp;ndash;making things appear to be more trustworthy.&lt;/li&gt;
&lt;li&gt;if you are finding that your emails aren&amp;rsquo;t getting sent properly, whether due to specific error messages, or just apparently not being delivered, check out Section 4 near the end of this article for some suggested troubleshooting tips.&lt;/li&gt;
&lt;li&gt;make sure that your domain email setup is correct and complete, and that you can send and receive email from it using common email clients.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The rest of this article gets fairly technical, and will be most suitable to read with a mug of your favourite warm drink in-hand.&lt;/p&gt;
&lt;p&gt;The following is a non exhaustive checklist of things that are usually necessary in order for you to have a smoothly operating email system on your website; or if you prefer, &amp;lsquo;To enhance and enrich your online ecommerce experience&amp;rsquo;.&lt;/p&gt;
&lt;p&gt;The items discussed and the explanations should not be regarded as definitive or legal or complete. They are painted with a very broad brush, and are there to help you better understand what is involved, and not as academic or legal reference texts. Correspondence on errors, omissions or additions is welcome; that on nitpicking nuances and interpretations will be ignored. (Insert 15 page legal disclaimer here).&lt;/p&gt;
&lt;p&gt;There are several areas to consider when attempting to understand how email works. If your online store is having troubles getting emails to your customers, it&amp;rsquo;s wise to remember that there are numerous factors involved: domain names and configuration, send-FROM settings and address, send-TO addresses, hosting account configurations, formats of emails, reliability of the servers being used at various stages, reputation for spam origins, and lots more. Read along to get a broader understanding of the many factors involved and the many things that can affect &lt;em&gt;whether&lt;/em&gt; and &lt;em&gt;how&lt;/em&gt; any given message gets handled and delivered.&lt;/p&gt;
&lt;h2 id=&#34;1-your-domain&#34;&gt;1. Your domain&lt;/h2&gt;
&lt;p&gt;One of the first steps in setting up an online site is deciding on a name and website URL or address for the site. Once this is done, either through a domain registrar or a hosting company, money changes hands and little further thought is given to the matter, except at renewal time. It&amp;rsquo;s important to have some understanding of exactly what this means. It means you have a method of being uniquely identified on the internet by the sequence of characters you have chosen as your domain name. Your domain name does not include www, it is the rest of the identifier - mydomain.com, mysuperdupernewstore.com etc. The www bit is a subdomain, by convention usually reserved for websites, but you are free to create an infinite number of subdomains - myfirststore.mydomain.com, mysecondstore.mydomain.com, and indeed Â www.myfirststore.mydomain.com, Â www.mygranniesphotogalleryofhertriptoelko.mydomain.com, on and on till boredom or exhaustion set in. Note that all of these are added to the left of the domain name.&lt;/p&gt;
&lt;p&gt;In order to make all of this work, each and every one of the domains and subdomains has an entry in a table (somewhat akin to a telephone book) which cross references your domain or subdomain name to an IP address where that domain may be found. These tables are maintained by &amp;rsquo;name servers&amp;rsquo; and are the backbone of the DNS or Domain Name System. Theses entries take the form:&lt;/p&gt;
&lt;pre&gt; @  IN   A  10.10.10.10
 mydomain.com. IN   A  10.10.10.10
 www IN CNAME mydomain.com
 granniesphotos.mydomain.com IN A 10.10.10.10
&lt;/pre&gt;
&lt;p&gt;which means &amp;lsquo;You can find mydomain.com at IP address 10.10.10.10, and when I say Â www.mydomain.com I really mean mydomain.com, it&amp;rsquo;s an alias, again in an infinite number of combinations.&lt;/p&gt;
&lt;p&gt;Depending on your domain registrar or hosting company you may have direct access to updating your DNS settings, or you may have to request any changes you want made.&lt;/p&gt;
&lt;p&gt;You may be asking, What does this have to do with your website your shop and email?&lt;/p&gt;
&lt;h3 id=&#34;mx-records&#34;&gt;MX RECORDS&lt;/h3&gt;
&lt;p&gt;All of those domains and subdomains can have email addresses. And in exactly the same way, they need DNS entries for the mail server(s) involved in handling mail for the domain. The plural is there because domains often have multiple mail servers defined, with an associated &amp;lsquo;priority&amp;rsquo; , where the ultimate destination, the mail server that actually handles the mail delivery to the user, is the one with the lowest &amp;lsquo;priority&amp;rsquo; number and thus highest priority. These entries take the form of an MX or mail record:&lt;/p&gt;
&lt;pre&gt; mydomain.com. IN MX 10 fred.mydomain.com.
&lt;/pre&gt;
&lt;p&gt;In this example, we see that mail for mydomain.com is handled by a mail server fred.mydomain.com I have intentionally not used mail.mydomain.com there, although that is the usual convention. So usual that some mail servers will automatically alias mail.mydomain.com to mydomain.com. Do not rely on this, it is NOT a standard, merely a convention. It is not necessary that the MX record point at a mail server in the same domain, it can be any valid address. i.e. the MX record for mydomain.com can point to the mail server at myhostingcompany.com or mydomainregistrar.com.&lt;/p&gt;
&lt;p&gt;Points to notice: those periods, dots, full stops &amp;lsquo;.&amp;rsquo; (whatever you wish to call them) at the end of the domain name are important. It means &amp;rsquo;this is it in the domain name definition, do NOT append mydomain.com&amp;rsquo; i.e. without it, mydomain.com becomes mydomain.com.mydomain.com&lt;/p&gt;
&lt;p&gt;MX records may NOT point to IP addresses or CNAME entries. This implies that whatever is listed in the target part of an MX record, must ALSO have a valid DNS entry, pointing at its IP address.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[ALERT] To repeat: any mail server pointed to by an MX record must in turn have a DNS entry for itself, pointing to its IP address. Exceptions to this are known as &amp;lsquo;phantom&amp;rsquo; mail servers, and are frowned upon.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Another common pitfall occurs when you register your domain with a domain registrar, and then choose a hosting company and sign up for their services. They are separate companies and know nothing of each other. Many registrars obligingly set up the DNS to point to their mail servers, and wait for you to define forwarding rules and email addresses. Similarly your hosting service sets up your hosting with MX records pointing to their mail servers in their DNS. You end up with a number of mail servers, all with the same priority of 10 or so, all happily accepting mail for your domain, and it goes nowhere. Or sometimes you can get the mail, and sometimes not. It is ESSENTIAL that you ensure that any mail servers defined in MX records have a consistent hierarchy that ensures that mail will be delivered to a single destination server, from which you can access it. It is also a common tactic for spammers to submit mail to a low priority mail server, in the hope that this will bypass Spam checks on the high priority server. i.e. it may be possible to have too many mail servers for your own good. Delete any that serve no purpose.&lt;/p&gt;
&lt;h3 id=&#34;sending-mail-servers&#34;&gt;SENDING-MAIL SERVERS&lt;/h3&gt;
&lt;p&gt;Note that all of the above refers mainly to RECEIVING mail servers. It defines in the first instance how mail for your domain gets to you. But consider SENDING mail servers. Any machine with mail server software anywhere can connect to another mail server and say &amp;lsquo;I have some mail here for &lt;a href=&#34;mailto:joe@hisdomain.com&#34;&gt;joe@hisdomain.com&lt;/a&gt;, for which you are a mail server, it&amp;rsquo;s from &lt;a href=&#34;mailto:fred@dodgymail.com&#34;&gt;fred@dodgymail.com&lt;/a&gt;, here it comes&amp;rsquo;. You do it every day when you hit the send button on your mail client. Or when you&amp;rsquo;re sitting in (Insert any well known yuppie coffee shop chain of choice) with your portable phone or laptop, using their wireless access point. A spammer&amp;rsquo;s dream.&lt;/p&gt;
&lt;p&gt;To try and impose some semblance of order on this, mail servers will do a variety of things with incoming mail connections. They will check for MX records, for reverse DNS entries, for blacklisted domains and IP addresses, and for DNS verification records like SPF records.&lt;/p&gt;
&lt;p&gt;Reverse DNS is simply a &amp;lsquo;backwards DNS pointer entry&amp;rsquo;, with &amp;lsquo;in-addr.arpa.&amp;rsquo; appended. If your domain IP address is 1.2.3.4 the reverse DNS entry would be:&lt;/p&gt;
&lt;pre&gt; 4.3.2.1.in-addr.arpa. IN PTR  mydomain.com.
&lt;/pre&gt;
&lt;p&gt;Again, it must be an A record not an IP or CNAME alias.&lt;/p&gt;
&lt;p&gt;This allows receiving mail servers to query by IP address to ensure that the sending mail server is who or what it claims to be. MX records can also be checked to see if it belongs to that domain.&lt;/p&gt;
&lt;p&gt;Check for a PTR record with the &lt;a href=&#34;https://intodns.com&#34;&gt;intoDNS&lt;/a&gt; tool&lt;/p&gt;
&lt;h3 id=&#34;blacklisting&#34;&gt;BLACKLISTING&lt;/h3&gt;
&lt;p&gt;Blacklisting is complex, insofar as there is no single definitive &amp;lsquo;blacklist&amp;rsquo;. There are LOTS of them, some good, some bad, some insufferably pompous, self-righteous and claiming to be infallible.&lt;/p&gt;
&lt;p&gt;If you find your domain on a blacklist, all you can do is attempt to get it removed. Unless you are self-hosting, your host is the best help in dealing with any blacklisting(s).  Have your host make sure you have valid SPF, DKIM, and DMARC settings (See Examples Below) and then they can quickly get you off a blacklist.&lt;/p&gt;
&lt;p&gt;As a general rule ALL dynamic IP addresses i.e. those from home broadband connections and similar are almost automatically blacklisted. If you want to run your site from a computer on your desk, you are going to have to get a static IP address.&lt;/p&gt;
&lt;h3 id=&#34;11-spf-dkim-and-dmarc&#34;&gt;1.1 SPF, DKIM and DMARC&lt;/h3&gt;
&lt;h3 id=&#34;spf-records&#34;&gt;SPF RECORDS&lt;/h3&gt;
&lt;p&gt;A Sender Policy Framework (SPF) record is yet another DNS record. This TXT record allows you to specify which machines are ALLOWED to send mail for your domain. For instance, if you use something like Constant Contact to send mail on behalf of your site, you will need the same records for Constant Contact that you have for your domain. The set-up has many possibilities; do a web search to learn more about it.&lt;/p&gt;
&lt;p&gt;It is easy to succumb to the temptation to make the SPF definition broader than it should be. Resist. Another point that is easy to overlook with SPF records is that the mail server that sends out the email for your site should be included in your SPF record. As mentioned before, any site or mail service that sends mail on behalf of your domain should have an SPF record to accurately identify you and any additional mail servers used to send mail from your site.&lt;/p&gt;
&lt;p&gt;Any, all or none of the above (DNS, MX, SPF, DKIM, or DMARC) may be set up for you by your domain registrar or hosting service. What is much more important is that you check, and fix anything that is not correct and ensure the ones that are helpful to your business are in place and correct.&lt;/p&gt;
&lt;p&gt;All of the above can be checked by visiting &lt;a href=&#34;https://mxtoolbox.com&#34;&gt;https://mxtoolbox.com&lt;/a&gt; and taking advantage of their various diagnostic tools.  The site opens with a form for your domain name and an &amp;ldquo;MX Lookup&amp;rdquo; button.  Entering your domain, and clicking the button will quickly let you know if something is incorrect.  From the result, you can also do a Blacklist Check and SMTP Test.&lt;/p&gt;
&lt;p&gt;A simple SPF record might look like:
&lt;code&gt;yoursite.com. 14400 IN TXT &amp;quot;v=spf1 mx a ~all&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;or maybe
&lt;code&gt;yoursite.com. 14400 IN TXT &amp;quot;v=spf1 ip4:###.###.###.### ~all&amp;quot;&lt;/code&gt; where the # signs represent the IP address of your mail server.&lt;/p&gt;
&lt;p&gt;Checking DNS entries can be done using &lt;a href=&#34;https://toolbox.googleapps.com/apps/dig/#ANY/&#34;&gt;https://toolbox.googleapps.com/apps/dig/#ANY/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You might also try using &lt;code&gt;nslookup&lt;/code&gt; in Windows, or &lt;code&gt;dig&lt;/code&gt; on Unix/Linux machines. Here are some examples:&lt;/p&gt;
&lt;pre&gt; nslookup -d mydomain.com
   or
 nslookup -t MX mydomain.com
   or
 dig MX mydomain.com

&lt;/pre&gt;
&lt;h3 id=&#34;dkim-records&#34;&gt;DKIM RECORDS&lt;/h3&gt;
&lt;p&gt;DomainKeys Identified Mail (DKIM) is another important method for ensuring deliverability and avoiding spam, spoofing, and phishing. &amp;ldquo;It is a form of email authentication that allows an organization to claim responsibility for a message in a way that can be validated by the recipient.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;DKIM provides an encryption key to let receivers know exactly who is sending the email.  The digital signature is added to the header of an e-mail message.  That signature must be placed in your DNS records (see below) and is used by the receiver to verify your identity. It does not tell the receiver what to do with suspicious email, instead it just lets the receiver&amp;rsquo;s email client assess validity.&lt;/p&gt;
&lt;p&gt;If you use a 3rd-party mail service check with that service to ensure you add any additional DKIM records needed to verify any emails they deliver on your behalf.&lt;/p&gt;
&lt;p&gt;A simple DKIM example record would look like:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;default.\_domainkey 14400 IN TXT &amp;#34;v=DKIM1; k=rsa; p=MIIBIjANBgkqhkiGdR2xFCm6A8xm43B4uLViQl52Gsaqt+...WTiM4/O+DKmTVGawwNuhAPYAv+Yea+kTKl&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;dmarc-records&#34;&gt;DMARC RECORDS&lt;/h3&gt;
&lt;p&gt;Domain-based Message Authentication, Reporting, and Conformance (DMARC) builds on the identification provided by SPF and DKIM by specifying what the receiver should do if the email fails some check performed by the receiver.  It also optionally lets the receiver know how they can report the failure to you for repair. Email clients (receivers) don&amp;rsquo;t &amp;ldquo;have to&amp;rdquo; do what DMARC tells them, but more and more will follow the instructions if they are properly configured.&lt;/p&gt;
&lt;p&gt;DMARC requires a valid SPF and DKIM record set in your domain&amp;rsquo;s DNS in order for it to work.&lt;/p&gt;
&lt;p&gt;A good DMARC to add for your domain is:
&lt;code&gt;\_dmarc 14400 IN TXT v=DMARC1\;p=quarantine\;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;An advanced DMARC record with all its options would look something like, but study all these settings for yourself before implementing them.
&lt;code&gt;\_dmarc 14400 IN TXT v=DMARC1\;p=quarantine\;sp=none\;adkim=s\;aspf=s\;pct=100\;fo=0\;rf=afrf\;ri=86400\;ruf=mailto:mymailbox\@mydomain.com&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Like the DKIM, you should make sure the DMARC is properly created for any extra email services that may send from your domain.&lt;/p&gt;
&lt;h2 id=&#34;2-email-addresses&#34;&gt;2. Email Addresses&lt;/h2&gt;
&lt;p&gt;When you purchased your domain, you also, as a side effect obtained the ability to create an unlimited number of email addresses for that domain. If you feel that the world needs &lt;a href=&#34;mailto:myfavouriteauntsally@myshinynewstore.com&#34;&gt;myfavouriteauntsally@myshinynewstore.com&lt;/a&gt;, go ahead. When Aunt Sally gets an internet connection, I&amp;rsquo;m sure she&amp;rsquo;ll be very happy.&lt;/p&gt;
&lt;p&gt;What it did not necessarily get you is a site where that mail is hosted. In most cases your hosting service or registrar will offer this, but there is no standard package. Some offer only forwarding or similar, or charge extra per email address.&lt;/p&gt;
&lt;p&gt;There is, again, no standard list of what email addresses are necessary for a site. From a standards point of view, one is absolutely essential, and that is &lt;a href=&#34;mailto:postmaster@mydomain.com&#34;&gt;postmaster@mydomain.com&lt;/a&gt;. &lt;a href=&#34;mailto:bounce@mydomain.com&#34;&gt;bounce@mydomain.com&lt;/a&gt; is also highly desirable. This is not in jest, the standards stipulate that all mail domains MUST have a postmaster mailbox, and some &amp;lsquo;purist&amp;rsquo; mail server set-ups will check, and refuse mail from the domain if it is not there.&lt;/p&gt;
&lt;p&gt;Typically, websites will have something like sales@ , info@ , support@ , admin@ , webmaster@ , and anything else you care to define. These can be aliases of a single mailbox, but it is better to explicitly define them than to rely on a &amp;lsquo;catchall&amp;rsquo; define to accept any mail to the domain. i.e. if you use an email address on the website, then define and create it, even if it is just as an alias for admin@ or whatever, it is desirable for it to exist as an explicit definition, than as a vague anything@.&lt;/p&gt;
&lt;h3 id=&#34;forwarding&#34;&gt;FORWARDING?&lt;/h3&gt;
&lt;p&gt;The subject of forwarding is contentious, as it is very tempting to define a single mailbox, with all other addresses as aliases of that mailbox, and set it to forward to your &amp;lsquo;home&amp;rsquo; or usual email address. If that usual address is in the same domain or on the same mail server, I would give a cautious yes. Any other mail server or domain, I say no. it is all too easy for an intermediate or the destination mail server to decide it is Spam or junk or insignificant and bin it or delete it. Ideally, use a separate mailbox and set your mail client to explicitly fetch the mail from the server as an additional account in your email client. Do not forward.&lt;/p&gt;
&lt;p&gt;Note that hosting companies and registrars may set up all or none of the above for you, or give you a control panel where you can do much of it yourself.&lt;/p&gt;
&lt;h3 id=&#34;free-email-addresses&#34;&gt;FREE EMAIL ADDRESSES&lt;/h3&gt;
&lt;p&gt;Similarly, much has been said about using &amp;lsquo;free&amp;rsquo; email addresses on websites. I believe there is a simple test. Ask yourself whether you would buy from a website whose contact address was &lt;code&gt;dodgyventures@yahoo.com&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;There is also the issue of their Terms and Conditions in which you agree to allow content scanning of your mail to target ads at you. I&amp;rsquo;m not sure how well that squares with the various customer privacy enacted in various parts of the world, when it comes to your customers&amp;rsquo; personal and payment details, order details, purchase history etc. even if it is just automated scanning.&lt;/p&gt;
&lt;p&gt;You should, however, use such services for testing when you have everything else set up and working, as it is not wise to tell potential and actual customers which email addresses they may and may not use. Be aware however that these large entities make it as difficult as possible to actually send any email to their addresses. If any of the settings/setup mentioned above (part 1 of this article, ie: DNS, MX, SPF, valid accounts, etc) are not in place, you will find your site mail disappearing (dumped in a black hole and never delivered because it fails various rules/tests) or ending up in the Spam bin. They are all fairly ruthless about that, and curing it can be prolonged and more educational than you might choose.&lt;/p&gt;
&lt;p&gt;Whenever I suggest this, I am told &amp;lsquo;But XXXXX is a great company!  They would never treat their customers like this!!! How can you be so mean?&amp;rsquo; I reply &amp;rsquo; Yes they can, and in fact, they do treat their customers like this. You have made a basic error. You are not the customer, you are the product.&amp;rsquo;&lt;/p&gt;
&lt;h2 id=&#34;3-the-website&#34;&gt;3. The Website.&lt;/h2&gt;
&lt;p&gt;Most hosting services have a &amp;lsquo;preferred&amp;rsquo; way for websites to send mail. Find out what this is for your site and plan to set up accordingly. If they can&amp;rsquo;t tell you, you might be advised to carefully re-evaluate how knowledgeable your hosting company really is and whether you should continue relying on them for your business livelihood.&lt;/p&gt;
&lt;h3 id=&#34;your-zen-cart-email-settings&#34;&gt;YOUR ZEN CART EMAIL SETTINGS&lt;/h3&gt;
&lt;p&gt;Working through the various Zen Cart mail transports:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt; is the default, and is essentially the simplest. Some hosting companies block it or disable it, but if it works, there is no set-up: simply select and use. The downside is that sometimes hosting companies don&amp;rsquo;t configure their php.ini properly for this, and if you use it then your messages will look like spam.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SMTPAUTH&lt;/strong&gt; is the BEST CHOICE. This uses SMTP plus the username/password you supply in SMTP settings. SMTP is the original mail transport, used by every internet mail server to interchange mail. As such, it is extremely standardised and cast in stone, and is also the most robust of the transports.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sendmail&lt;/strong&gt; and &lt;strong&gt;sendmail -f&lt;/strong&gt; are venerable Unix/Linux mail transports, these days they&amp;rsquo;re mostly emulation by more modern mail software, since no server admin in their right mind wants to configure a sendmail mail system. This is pretty much an &amp;rsquo;either it works or it doesn&amp;rsquo;t&amp;rsquo; set-up.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Qmail&lt;/strong&gt; is a historical relic, sendmail by another name. It&amp;rsquo;s there because it &lt;em&gt;was&lt;/em&gt; common to use Qmail in place of sendmail at one time. See the sendmail comments above. It might save the day if your host uses Qmail on their server. You&amp;rsquo;ll likely NOT use this one!&lt;/p&gt;
&lt;p&gt;In operation all these transport methods except SMTP/SMTPAUTH operate in effect by saying &amp;lsquo;I have some mail here&amp;rsquo; and throwing a bucket full of bytes at the server. It is therefore client-initiated (i.e. your website being the &amp;lsquo;client&amp;rsquo;), and relies on the mail being properly formed and everything being &amp;lsquo;just so&amp;rsquo;.&lt;/p&gt;
&lt;p&gt;SMTP is more ponderous: establish a connection, possibly authenticate, initiate a mail send, send a &amp;lsquo;To&amp;rsquo; address, send a &amp;lsquo;From&amp;rsquo; address, send some other header info, send the mail body, say goodbye. At any stage in this the server can object, and issue an appropriate cryptic error message. Thus it is a more &amp;rsquo;traceable&amp;rsquo; and definable transaction than the others. So ideally you should use SMTP for robustness. In practice it is not going to make a huge deal of difference; if it works, stick with what you have, bearing in mind hosting service preferences above.&lt;/p&gt;
&lt;p&gt;SMTP also offers the ability to connect to an external mail server, as it is what the internet&amp;rsquo;s mail servers use to communicate with each other. e.g. You could potentially use your company mail server, or your own or ISP or domain registrar mail server to send the mail for your website. Connect to it with SMTP and bingo. In practice this is regarded by many hosting companies with about the same level of enthusiasm as a bubonic plague outbreak, and they actively block the standard SMTP ports to prevent your site doing this.&lt;/p&gt;
&lt;h3 id=&#34;sending-as-nobody&#34;&gt;SENDING AS &amp;lsquo;NOBODY&amp;rsquo;&lt;/h3&gt;
&lt;p&gt;To add to the woes of the would-be website mailer - you - there is the small matter of the &amp;lsquo;Apache user&amp;rsquo;. On websites running under &amp;rsquo;native&amp;rsquo; PHP, all of the software code is executed or &amp;lsquo;run&amp;rsquo; as a system user. This user is usually imaginatively named &amp;rsquo;nobody&amp;rsquo; or &amp;lsquo;www-data&amp;rsquo;. (Software developers don&amp;rsquo;t get out much). If that were all, this would merely be an exciting conversation piece/stopper you could drop at dinner parties, but unfortunately it has the side effect that all mail originating from the site via PHP or sendmail, or qmail, is sent as coming from this shadowy figure &amp;rsquo;nobody&amp;rsquo;. Or the exciting &amp;lsquo;www-data&amp;rsquo;. It&amp;rsquo;s probably not necessary to point out that Spam filters leap into action as soon as they see any mail from this prolific and widespread pair, with predictable results. What would you do if you opened your letterbox and found a letter from &amp;rsquo;nobody&amp;rsquo;? It is sometimes possible to mitigate this with &amp;lsquo;sendmail -f&amp;rsquo; since the -f parameter forces a &amp;lsquo;from&amp;rsquo; address, or by using SMTP, but not always.&lt;/p&gt;
&lt;p&gt;Additionally, when websites send email as &amp;rsquo;nobody&amp;rsquo;, it&amp;rsquo;s very common for the hosting company to have the server configured to show the .php script filename in the (normally hidden) raw email headers. This allows them to very quickly determine whether an email was sent from a legitimate script or not.  Usually they&amp;rsquo;ll simply shut down that script quickly, and tell the account holder that there&amp;rsquo;s a problem, giving them a few days to come up with a fix.&lt;/p&gt;
&lt;p&gt;Other websites use Suexec or SuPHP, which run the website code as the website owner rather than &amp;rsquo;nobody&amp;rsquo; and the effect is mitigated. Particularly if the website owner is something like web_admin and has an email mailbox. They come with their own drawbacks, so there is no free lunch, but things are improving over time. Setting an &amp;lsquo;Email From&amp;rsquo; address and &amp;lsquo;must send from known domain&amp;rsquo; may help, and are recommended for any site.&lt;/p&gt;
&lt;h3 id=&#34;encoding-and-character-sets&#34;&gt;ENCODING AND CHARACTER SETS&lt;/h3&gt;
&lt;p&gt;You should also be aware that default encoding and character sets are set in multiple places:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;in &lt;code&gt;includes/extra_configures/email_use_8bit.php&lt;/code&gt; - the defined constant &lt;code&gt;EMAIL_ENCODING_METHOD&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;your main &lt;code&gt;includes/languages&lt;/code&gt; file e.g. &lt;code&gt;english.php&lt;/code&gt; - the defined constant &lt;code&gt;CHARSET&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These may need to be changed for your particular hosting set-up, or if you are not using &lt;code&gt;iso-8859-1&lt;/code&gt; as your character set. The question of an encoding setting is complex. The mail servers of the internet nominally send all mail as 7 bit data. This means that all &amp;rsquo;normal&amp;rsquo; messages need to be encoded, and this allows you to choose how you would like your message mangled. In practice almost all modern mail servers advertise (via the SMTP login procedure) that they are able to accept 8 bit data. Even if this is not the case, the encoding and decoding is handled automatically and as necessary by the mail servers. Best to leave be, if you&amp;rsquo;re experiencing specific problems in this area, feel free to experiment, but it is unlikely to make much difference. What IS important is that it actually BE defined.&lt;/p&gt;
&lt;p&gt;The character set used is similar, but if you are not in North America, it could be relevant. If you are using a European or Asian character set it is very important that you set the definition correctly. All sections of the emails are labelled with the character set, and there is no faster way of getting mail labelled as Spam than wrongly defining the character set. Quite apart from that, the result will probably be gibberish. i.e. No wishful thinking. If you set the Charset to &lt;code&gt;utf-8&lt;/code&gt;, you must be using utf-8 data.&lt;/p&gt;
&lt;p&gt;It is inevitable and unfortunate that certain short emails, such as &amp;lsquo;password forgotten&amp;rsquo;, especially when sent as HTML emails, appear to mail-server Spam filters as just an image (the logo) and a small amount of text, which they regard as a flag for potential Spam mail.&lt;/p&gt;
&lt;h2 id=&#34;4-testing-connectivity-to-your-smtp-server&#34;&gt;4. Testing connectivity to your SMTP server&lt;/h2&gt;
&lt;p&gt;Assuming you have a VPS and cPanel, you can open a Terminal window and check to be sure you can get to your SMTP server.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a system where sending via Sendgrid will not work because you can&amp;rsquo;t connect:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/zendocs_test1/images/smtp_connect_fail.png&#34; alt=&#34;Connection Failure&#34;&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a system where sending via Sendgrid &lt;em&gt;will&lt;/em&gt; work:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/zendocs_test1/images/smtp_connect_succeed.png&#34; alt=&#34;Connection Success&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-smtp-handshake-debugging&#34;&gt;5. SMTP Handshake Debugging&lt;/h2&gt;
&lt;p&gt;If you are troubleshooting problems with SMTP or SMTPAUTH and want to see the exact responses from the SMTP server handshake, you can do the following to cause the email server conversation to be displayed on-screen during delivery. THIS IS ABSOLUTELY UNSUITABLE FOR USE ON A LIVE STORE because visitors to your site have no business seeing any of the information displayed, and some of the information could be misused by those with malicious intent. USE WITH CAUTION!&lt;/p&gt;
&lt;p&gt;To enable email-debug-output, create a PHP file at either of these locations, depending on whether you&amp;rsquo;re testing email on the storefront side or on the admin side, respectively: &lt;code&gt;includes/extra_datafiles/email_debug.php&lt;/code&gt; or &lt;code&gt;YOURADMIN/includes/extra_datafiles/email_debug.php&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The content of the file should be just one line:&lt;/p&gt;
&lt;pre&gt;
&amp;lt;?php 
   define(&#39;EMAIL_SYSTEM_DEBUG&#39;,&#39;5&#39;);
&lt;/pre&gt;
&lt;p&gt;Then try sending another email. The SMTP handshake information will be dumped to the /logs/myDEBUG-xxxxxx.log folder/files if SMTP/SMTPAUTH is your transport method.&lt;/p&gt;
&lt;p&gt;Be sure to delete that email_debug.php file when you&amp;rsquo;re done testing; otherwise your store won&amp;rsquo;t work properly because of the bizarre information that gets output to the screen!&lt;/p&gt;
&lt;h2 id=&#34;6-what-to-do-when-it-doesnt-work&#34;&gt;6. What to do when it doesn&amp;rsquo;t work?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Write down any error messages or error numbers, and if you have access to your website logs, check them for any errors relevant to the problem. See the /logs/ folder for error details.&lt;/li&gt;
&lt;li&gt;Get extra debug details by using the debug trick mentioned in &lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/#4-smtp-handshake-debugging&#34;&gt;TroubleShooting Email - Advanced Part I&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Switch on email archiving and send some mail. The archiving only takes place after an allegedly successful &amp;lsquo;send&amp;rsquo; so if the email is archived, the website system thinks that it was successfully sent, and the problem lies elsewhere.&lt;/li&gt;
&lt;li&gt;Give your hosting company details of the time the mail was supposedly sent and ask them to check their mailserver logs.  Here are &lt;a href=&#34;/zendocs_test1/user/email/email_introduction/#troubleshooting-questions-for-your-hosting-company&#34;&gt;some settings your hosting company may need to help you with email&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Check whether your domain or your hosts have been blacklisted by visiting &lt;a href=&#34;http://www.dnsstuff.com&#34;&gt;http://www.dnsstuff.com&lt;/a&gt; and doing a DnsReport on your domain, and check &lt;a href=&#34;http://www.robtex.com/rbls.html&#34;&gt;http://www.robtex.com/rbls.html&lt;/a&gt; to see if your domain is flagged. Check the mail section of the report, and fix any reported warnings, errors or problems that are in your power to resolve. Engage your hosting company if needed. Refer to Section 1 of this article for more specific details/explanation on Blacklisting and other issues your dnsreport shows you.&lt;/li&gt;
&lt;li&gt;Ask the intended recipient to check Spam and similar folders. It is also worth checking whether the recipient&amp;rsquo;s email system has a &amp;lsquo;good guys&amp;rsquo; list/setting to &amp;lsquo;Whitelist&amp;rsquo; your site. This tells the mail filters that your domain is expected to send mail to their address, and that it&amp;rsquo;s not Spam.&lt;/li&gt;
&lt;li&gt;If you&amp;rsquo;re getting &amp;lsquo;Spam flagged&amp;rsquo; emails (you&amp;rsquo;re getting the emails, but they&amp;rsquo;re arriving in your spam folder), check them for the entries in their mail headers, particularly the values for Return-Path, Reply To, and From for strange settings. Note also if they are NOT defined in the headers. Also note any MIME header information and content boundary information for strange settings - a multipart/alternative header with only 1 part in the mail body, or a &amp;ldquo;text/plain&amp;rdquo; content header with HTML body.&lt;/li&gt;
&lt;li&gt;Verify the encoding and character sets used.&lt;/li&gt;
&lt;li&gt;Most mail clients allow you to view the mail headers and message source, which are very valuable diagnostic tools.&lt;/li&gt;
&lt;li&gt;Accept that the free web based services change the rules regularly and arbitrarily, and that customer email that went through fine last week can disappear or be flagged as Spam this week.&lt;/li&gt;
&lt;li&gt;Establish whether your hosts have any emails-per-hour or other limits, and keep them in mind when you send out that 10,000 email Newsletter and mailshot.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When all else fails, 
&lt;a href=&#34;https://www.zen-cart.com/forum.php&#34;&gt;post on the main support forum&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some portions Copyright (c) 2008 by Chuck Redman, for Zen Cart, All Rights Reserved.  Distributed under Creative Commons License.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Adding a message to the admin order update email</title>
      <link>/zendocs_test1/user/email/add_message_admin/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/add_message_admin/</guid>
      <description>
        
        
        &lt;p&gt;Since Zen Cart 1.5.7, the capability to add a static message to the admin order update email has been built in.  The file containing the message is located at &amp;lsquo;admin/includes/languages/english/email_extras.php&amp;rsquo;.  Edit this file, and set the defined constant &lt;code&gt;EMAIL_ORDER_UPDATE_MESSAGE&lt;/code&gt; with your additional message and save the file.&lt;/p&gt;
&lt;p&gt;There is also a notifier called &lt;code&gt;ZEN_UPDATE_ORDERS_HISTORY_SET_ORDER_UPDATE_MESSAGE&lt;/code&gt; which fires when the message is being added, providing the opportunity for customization.&lt;/p&gt;
&lt;p&gt;You can test your changes to the order update email simply by updating an order on the &lt;a href=&#34;/zendocs_test1/user/admin_pages/customers/orders/&#34;&gt;order details&lt;/a&gt; page.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Adding a message to the checkout email</title>
      <link>/zendocs_test1/user/email/add_message/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/add_message/</guid>
      <description>
        
        
        &lt;p&gt;Since Zen Cart 1.5.6, the capability to add a static message to the order confirmation email has been built in.  The file containing the message is located at &amp;lsquo;includes/languages/english/email_extras.php&amp;rsquo;. If you edit the file, save it as &lt;code&gt;includes/languages/english/YOURTEMPLATE/email_extras.php&lt;/code&gt; to add it to your template&amp;rsquo;s override.  If the file already exists at &amp;lsquo;includes/languages/english/YOURTEMPLATE/email_extras.php&amp;rsquo;, then set the defined constant &lt;code&gt;EMAIL_ORDER_MESSAGE&lt;/code&gt; with your additional message and save the file.&lt;/p&gt;
&lt;p&gt;There is also a notifier called &lt;code&gt;NOTIFY_ORDER_SET_ORDER_MESSAGE&lt;/code&gt; which fires when the message is being added, providing the opportunity for customization.&lt;/p&gt;
&lt;p&gt;If your Zen Cart version is older than 1.5.6, you may use the &lt;a href=&#34;https://www.zen-cart.com/downloads.php?do=file&amp;amp;id=2200&#34;&gt;Order Message&lt;/a&gt; plugin.&lt;/p&gt;
&lt;p&gt;You can test your changes to the checkout email using the &lt;a href=&#34;https://www.zen-cart.com/downloads.php?do=file&amp;amp;id=2291&#34;&gt;Test Checkout Email&lt;/a&gt; plugin.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Audiences</title>
      <link>/zendocs_test1/user/email/audiences/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/audiences/</guid>
      <description>
        
        
        &lt;p&gt;Zen Cart contains a table called &lt;code&gt;query_builder&lt;/code&gt; which contains queries that are used to build lists of email addresses for the &lt;a href=&#34;/zendocs_test1/user/admin_pages/tools/send_email/&#34;&gt;Send Email&lt;/a&gt; and &lt;a href=&#34;/zendocs_test1/user/admin_pages/tools/newsletter/&#34;&gt;Newsletter Manager&lt;/a&gt; functions.&lt;/p&gt;
&lt;p&gt;There is no admin panel interface to this table, but new audiences may be created by copying existing rows and updating as needed.  For example, a list of all newsletter subscribers who have purchased in the last year could be made by copying &amp;ldquo;Active customers in past 3 months (Subscribers)&amp;rdquo; and adjusting the query_name, query_description and query_string values in the new row.&lt;/p&gt;
&lt;p&gt;It can be helpful to turn on &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/#audienceselect_count_display&#34;&gt;Audience-Select Count Display&lt;/a&gt; while doing this to see the size of the created lists.&lt;/p&gt;
&lt;p&gt;You can also use plugins like &lt;a href=&#34;/zendocs_test1/user/email/exporting_email_addresses/&#34;&gt;Email Address Exporter&lt;/a&gt; to build email lists based on audiences.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Changing the Email Subject Line</title>
      <link>/zendocs_test1/user/email/email_subject_line/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/email_subject_line/</guid>
      <description>
        
        
        &lt;p&gt;Email subject lines typically consist of two parts, a piece of static text that says something like &amp;ldquo;Order Confirmation&amp;rdquo; or &amp;ldquo;Message from&amp;rdquo; and some dynamic content such as an order number or your store&amp;rsquo;s name.&lt;/p&gt;
&lt;p&gt;Changing the static text is straightforward. It is normally defined in the language file for the function that generates the email. Thus you would look in your &lt;code&gt;includes/languages/YOUR_LANGUAGE&lt;/code&gt; folder (e.g. &lt;code&gt;includes/languages/english&lt;/code&gt;) for the following files: &lt;code&gt;contact_us.php&lt;/code&gt;, &lt;code&gt;create_account.php&lt;/code&gt;, &lt;code&gt;checkout_process.php&lt;/code&gt;, and &lt;code&gt;gv_send.php&lt;/code&gt;. And within these files for a define statement for &lt;code&gt;&#39;EMAIL_TEXT_SUBJECT&#39;&lt;/code&gt; or &lt;code&gt;&#39;EMAIL_SUBJECT&#39;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can then edit the associated text, but remember to save your changes to an override file (language overrides are described elsewhere in the docs). Remember also that if you  want to use an apostrophe or other special character, you must put a backslash in front of it (e.g. &lt;code&gt;define(&#39;EMAIL_TEXT_SUBJECT&#39;, &#39;Important Message from Simple Sammy\&#39;s Smart Snail Store&#39;);&lt;/code&gt; )&lt;/p&gt;
&lt;p&gt;The &amp;ldquo;low stock email&amp;rdquo; is slightly different in that its &lt;code&gt;EMAIL_TEXT_SUBJECT&lt;/code&gt; is defined in &lt;code&gt;email_extras.php&lt;/code&gt;, but should still be overridden in the same way. 
The &amp;ldquo;order update&amp;rdquo; email is different again as it is generated from the admin side of your site and so the define statement is in &lt;code&gt;admin/includes/languages/YOUR_LANGUAGE/orders.php&lt;/code&gt; which cannot be overridden. If you edit it, make sure you keep a copy (outside of your site) as backup.&lt;/p&gt;
&lt;p&gt;Changing the dynamic data is more tricky and may require programming skills. But if you wanted, for example, to replace the &amp;ldquo;#&amp;rdquo; with &amp;ldquo;Number:&amp;rdquo; in the &amp;ldquo;order update email&amp;rdquo; you would search your site for where the subject&amp;rsquo;s define constant is used (in this example, &lt;code&gt;EMAIL_TEXT_SUBJECT&lt;/code&gt; is used twice in &lt;code&gt;admin/orders.php&lt;/code&gt;) and replace the &lt;code&gt;&#39; #&#39;&lt;/code&gt; that follows it with &lt;code&gt;&#39; Number:&#39;&lt;/code&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Correcting Misspelled Email Addresses</title>
      <link>/zendocs_test1/user/email/fixing_email_addresses/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/fixing_email_addresses/</guid>
      <description>
        
        
        &lt;p&gt;See &lt;a href=&#34;/zendocs_test1/user/running/mistyped_email/&#34;&gt;Fixing a Mis-typed Email Address&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Customizing Email</title>
      <link>/zendocs_test1/user/email/customizing_email/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/customizing_email/</guid>
      <description>
        
        
        &lt;p&gt;There are several places in the Zen Cart code where e-mails to the customer are constructed. To create a consistent feel for all your communication with the customer, you will want to make sure you modify all these places whenever you modify one.&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t forget to use the &lt;a href=&#34;/zendocs_test1/user/template/template_overrides/&#34;&gt;template overrides system&lt;/a&gt; wherever possible when making your changes.&lt;/p&gt;
&lt;p&gt;The e-mail&amp;rsquo;s structure is determined in one of two ways: if you are sending plain text e-mails, it is determined by the way you put together the various items (customer greeting, order number, link to detailed invoice, etc) in a string variable that is then passed to the &lt;code&gt;zen_mail()&lt;/code&gt; function. If you are sending HTML e-mails, the structure is determined by the template you use.&lt;/p&gt;
&lt;h2 id=&#34;plain-text-e-mails&#34;&gt;Plain text e-mails&lt;/h2&gt;
&lt;p&gt;You can rearrange, add, or delete items in a plain text e-mail. To do so, you will need to edit the Zen Cart files where the e-mail is created. For example, if you want to edit the order confirmation e-mail, you will need to edit the file &lt;code&gt;includes/classes/order.php&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In our example, we open up &lt;code&gt;includes/classes/order.php&lt;/code&gt; and scroll down to the bottom of the file, in the function &lt;code&gt;send_order_email()&lt;/code&gt;. There you will see the lines that construct the plain text e-mail message:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;(line 827)        $email_order = EMAIL_TEXT_HEADER . EMAIL_TEXT_FROM . STORE_NAME . &amp;#34;\n\n&amp;#34; .
                       $this-&amp;gt;customer[&amp;#39;firstname&amp;#39;] . &amp;#39; &amp;#39; . $this-&amp;gt;customer[&amp;#39;lastname&amp;#39;] . &amp;#34;\n\n&amp;#34; .
                       EMAIL_THANKS_FOR_SHOPPING . &amp;#34;\n&amp;#34; . EMAIL_DETAILS_FOLLOW . &amp;#34;\n&amp;#34; .
                       EMAIL_SEPARATOR . &amp;#34;\n&amp;#34; .
                       EMAIL_TEXT_ORDER_NUMBER . &amp;#39; &amp;#39; . $zf_insert_id . &amp;#34;\n&amp;#34; .
                       EMAIL_TEXT_DATE_ORDERED . &amp;#39; &amp;#39; . strftime(DATE_FORMAT_LONG) . &amp;#34;\n&amp;#34; .
                       EMAIL_TEXT_INVOICE_URL . &amp;#39; &amp;#39; . zen_href_link(FILENAME_ACCOUNT_HISTORY_INFO, &amp;#39;order_id=&amp;#39; . $zf_insert_id, &amp;#39;SSL&amp;#39;, false) . &amp;#34;\n\n&amp;#34;;
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;(line 848)          $email_order .= zen_db_output($this-&amp;gt;info[&amp;#39;comments&amp;#39;]) . &amp;#34;\n\n&amp;#34;;
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;(line 855)        $email_order .= EMAIL_TEXT_PRODUCTS . &amp;#34;\n&amp;#34; .
                        EMAIL_SEPARATOR . &amp;#34;\n&amp;#34; .
                        $this-&amp;gt;products_ordered .
                        EMAIL_SEPARATOR . &amp;#34;\n&amp;#34;;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and so on. In this file, the variable that holds the plain text e-mail message is called &lt;code&gt;$email_order&lt;/code&gt;; it generally has a different name in each file, such as &lt;code&gt;$email&lt;/code&gt; or &lt;code&gt;$email_text&lt;/code&gt;. Whatever its name, this is the place where you will make your changes. You can add, delete, and rearrange the order of the items to suit your wishes.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t understand what&amp;rsquo;s going on in the lines above, you may want to &lt;a href=&#34;http://php.net&#34;&gt;Read more about PHP first&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;html-e-mails&#34;&gt;HTML e-mails&lt;/h2&gt;
&lt;p&gt;The HTML e-mail templates are located in the folder &lt;code&gt;email/&lt;/code&gt; in your store&amp;rsquo;s root directory. There are several different templates, each for a different purpose. You can rearrange the items, add new items, or delete items to achieve the structure you want for your e-mails.&lt;/p&gt;
&lt;p&gt;You need not edit any other Zen Cart files if you just want to rearrange or delete the items listed in an HTML template. To add items, however, you will need to find all the Zen Cart files that use that particular HTML template, and add in a definition for your new item. You can use the &lt;a href=&#34;/zendocs_test1/user/admin/developers_toolkit/&#34;&gt;Developer&amp;rsquo;s Tool Kit&lt;/a&gt;.
in the Admin to find all the files that use a given template; search for the last part of the template name. For example, if you want to add an item into the HTML template &lt;code&gt;email_template_order_status.html&lt;/code&gt;, search for &lt;code&gt;order_status&lt;/code&gt; using the &lt;a href=&#34;/zendocs_test1/user/admin/developers_toolkit/&#34;&gt;Developer&amp;rsquo;s Tool Kit&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Once you have found the files that need to be edited, you will want to add a definition for your new HTML item to each one. For example, suppose you have added an item called &lt;code&gt;$EMAIL_HOURS_OF_OPERATION&lt;/code&gt; to the &lt;code&gt;email_template_order_status.html&lt;/code&gt; template. One of the files that you will need to edit is &lt;code&gt;admin/orders.php&lt;/code&gt;. Find the part of that file where the e-mail message is being constructed; in this case, it begins around line 100.&lt;/p&gt;
&lt;p&gt;You see that the HTML message is constructed with several statements like this:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;      $html_msg[&amp;#39;EMAIL_CUSTOMERS_NAME&amp;#39;] = $check_status-&amp;gt;fields[&amp;#39;customers_name&amp;#39;];
      $html_msg[&amp;#39;EMAIL_TEXT_ORDER_NUMBER&amp;#39;] = EMAIL_TEXT_ORDER_NUMBER . &amp;#39; &amp;#39; . $oID;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;All you need to do is add a new statement under all these to define your new item:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;      $html_msg[&amp;#39;EMAIL_HOURS_OF_OPERATION&amp;#39;] = &amp;#39;We are open from 9 AM to 5 PM every day of the week.&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Of course, it&amp;rsquo;s a better idea to use a constant instead of hardcoding your text like this, but we&amp;rsquo;ll do it like this in our example for clarity&amp;rsquo;s sake.&lt;/p&gt;
&lt;p&gt;Use a $ in front of the name of your new item in the HTML template, but do not use the $ where you define it.&lt;/p&gt;
&lt;h2 id=&#34;finding-files-where-e-mails-are-created&#34;&gt;Finding files where e-mails are created&lt;/h2&gt;
&lt;p&gt;Here is a list to help you find the files you will need to edit to modify the structure of your e-mails.&lt;/p&gt;
&lt;table border=&#34;1&#34; cellpadding=&#34;2&#34;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th width=&#34;150&#34;&gt;Type of e-mail&lt;/th&gt;
&lt;th width=&#34;225&#34;&gt;HTML template in folder email/&lt;/th&gt;
&lt;th width=&#34;125&#34;&gt;Search for this in Developer&#39;s Tool Kit&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Contact Us&lt;/td&gt;
&lt;td&gt;email_template_contact_us.html&lt;/td&gt;
&lt;td&gt;&#39;contact_us&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Coupon&lt;/td&gt;
&lt;td&gt;email_template_coupon.html&lt;/td&gt;
&lt;td&gt;&#39;coupon&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Default&lt;/td&gt;
&lt;td&gt;email_template_default.html&lt;/td&gt;
&lt;td&gt;&#39;default&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Direct e-mail&lt;/td&gt;
&lt;td&gt;email_template_direct_email.html&lt;/td&gt;
&lt;td&gt;&#39;direct_email&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gift Certificates&lt;/td&gt;
&lt;td&gt;email_template_gv_mail.html  
email_template_gv_send.html  
email_template_gv_queue.html&lt;/td&gt;
&lt;td&gt;&#39;gv_mail&#39;  
&#39;gv_send&#39;  
&#39;gv_queue&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Low stock&lt;/td&gt;
&lt;td&gt;email_template_low_stock.html&lt;/td&gt;
&lt;td&gt;&#39;low_stock&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Newsletters&lt;/td&gt;
&lt;td&gt;email_template_newsletters.html&lt;/td&gt;
&lt;td&gt;&#39;newsletters&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Order confirmation&lt;/td&gt;
&lt;td&gt;email_template_checkout.html&lt;/td&gt;
&lt;td&gt;&#39;checkout&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Order Status update&lt;/td&gt;
&lt;td&gt;email_template_order_status.html&lt;/td&gt;
&lt;td&gt;&#39;order_status&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Password forgotten&lt;/td&gt;
&lt;td&gt;email_template_password_forgotten.html&lt;/td&gt;
&lt;td&gt;&#39;password_forgotten&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Product notification&lt;/td&gt;
&lt;td&gt;email_template_product_notification.html&lt;/td&gt;
&lt;td&gt;&#39;product_notification&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Welcome&lt;/td&gt;
&lt;td&gt;email_template_welcome.html&lt;/td&gt;
&lt;td&gt;&#39;welcome&#39;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;modifying-the-order-confirmation-email&#34;&gt;Modifying the Order Confirmation email&lt;/h2&gt;
&lt;p&gt;A commonly requested change is adding a message to the email your 
customers get when they place an order. 
This is documented in &lt;a href=&#34;/zendocs_test1/user/email/add_message/&#34;&gt;How can I add a message to my order confirmation emails? 
&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Email Archive Manager</title>
      <link>/zendocs_test1/user/email/email_archive_manager/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/email_archive_manager/</guid>
      <description>
        
        
        &lt;p&gt;&lt;a href=&#34;https://www.zen-cart.com/downloads.php?do=file&amp;amp;id=101&#34;&gt;Email Archive Manager&lt;/a&gt; is a plugin which allows you to view the emails sent by the cart within your Admin panel.  This can be useful in a number of situations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You are modifying the HTML email templates or email construction logic and you want to quickly see both the text and HTMl emails&lt;/li&gt;
&lt;li&gt;You need a log of the email your customer service staff are sending&lt;/li&gt;
&lt;li&gt;You want the historical record of emails that went out&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The main screen for Email Archive Manager is a listing of all recorded emails sent by the cart.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/zendocs_test1/images/email_archive_listing.png&#34; alt=&#34;Email Archive Listing&#34;&gt;&lt;/p&gt;
&lt;p&gt;Clicking on any particular line provides a brief view of the email, and an opportunity to open the entire email in TEXT or HTML format (if so configured).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/zendocs_test1/images/email_archive_detail.png&#34; alt=&#34;Email Archive Detail&#34;&gt;&lt;/p&gt;
&lt;p&gt;To use the Email Archive Manager, you must enable email archiving in 
&lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions#email_archiving_active&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email Options&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Email Transport Methods</title>
      <link>/zendocs_test1/user/email/email_transport_methods/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/email_transport_methods/</guid>
      <description>
        
        
        &lt;h2 id=&#34;email-transport-methods-explained&#34;&gt;Email Transport methods explained&lt;/h2&gt;
&lt;p&gt;Zen Cart supports multiple email transport methods.&lt;/p&gt;
&lt;p&gt;Go to &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email Options&lt;/a&gt; and try them in this order:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;php&amp;rdquo; &amp;ndash; this uses whatever email method your webserver is configured to use for PHP mail commands, as set by your webhost.  This will work fine in most cases.&lt;/li&gt;
&lt;li&gt;&amp;ldquo;smtp&amp;rdquo; or &amp;ldquo;smtpauth&amp;rdquo; &amp;ndash; for reliable email, many hosts require that you use &amp;ldquo;smtp&amp;rdquo; or usually &amp;ldquo;smtpauth&amp;rdquo; and set all the SMTP settings shown lower on the page.&lt;/li&gt;
&lt;li&gt;&amp;ldquo;sendmail&amp;rdquo; &amp;ndash; if &amp;ldquo;php&amp;rdquo; doesn&amp;rsquo;t work and you&amp;rsquo;re not running a windows server, this is your next likely choice.&lt;/li&gt;
&lt;li&gt;&amp;ldquo;sendmail -f&amp;rdquo; &amp;ndash; this is ideal in cases where your webserver configuration has some tighter security requirements &amp;ndash; esp in busy shared-hosting environments.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Zen Cart also supports the use of Qmail and Gmail.&lt;/p&gt;
&lt;p&gt;Using SMTPAuth, along with &lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/&#34;&gt;DKIM and SPF&lt;/a&gt;, is generally the most trouble-free way to send email from your cart.&lt;/p&gt;
&lt;p&gt;You may also wish to use SMTPAuth with &lt;a href=&#34;/zendocs_test1/user/email/external_smtp_servers/&#34;&gt;an external SMTP provider&lt;/a&gt; such as SMTP2Go or Mailgun.&lt;/p&gt;
&lt;p&gt;Using Google Mail can be problematic for a number of reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If bad guys send spam through your contact us form, Google can decide you are a spammer and start blocking your email.  This could wind up making all your cart&amp;rsquo;s emails (even order confirmations) non-deliverable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configuring Google Mail to work with an external system like Zen Cart requires you to reduce the security level of Google Mail.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>User: Exporting customer email addresses</title>
      <link>/zendocs_test1/user/email/exporting_email_addresses/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/exporting_email_addresses/</guid>
      <description>
        
        
        &lt;p&gt;To export email addresses, grab the &lt;a href=&#34;https://www.zen-cart.com/downloads.php?do=file&amp;amp;id=6&#34;&gt;Email Address Exporter&lt;/a&gt; plugin from the Zen Cart plugins library.&lt;/p&gt;
&lt;p&gt;The readme in the plugin zip file explains how to install and how to use.&lt;/p&gt;
&lt;p&gt;It can export in CSV, HTML, XML, and plain-text modes.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Fabricating Email Addresses</title>
      <link>/zendocs_test1/user/email/fabricating_email_addresses/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/fabricating_email_addresses/</guid>
      <description>
        
        
        &lt;p&gt;If you have customers who want to buy online from you but don&amp;rsquo;t have an email address, the solution is straightforward: as suggested in &lt;a href=&#34;/zendocs_test1/user/running/login_as_customer/&#34;&gt;login as customer&lt;/a&gt;, you can simply create an email using their name.  For example, if your customer&amp;rsquo;s name was Scott Wilson, you could create an account with the email &lt;a href=&#34;mailto:scott.wilson@YOURDOMAIN.com&#34;&gt;scott.wilson@YOURDOMAIN.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There is just one problem: if the email address &lt;a href=&#34;mailto:scott.wilson@YOURDOMAIN.com&#34;&gt;scott.wilson@YOURDOMAIN.com&lt;/a&gt; doesn&amp;rsquo;t exist, the email will bounce, and too many bounces will cause your hoster to complain and/or your deliverability to suffer.&lt;/p&gt;
&lt;p&gt;There are a couple of solutions to this issue:&lt;/p&gt;
&lt;p&gt;a) Depending on how your email is configured, your email server may have the option of a &amp;ldquo;catch all&amp;rdquo; email.  Non-existent emails will be forwarded to this address and thus not bounce.&lt;/p&gt;
&lt;p&gt;b) You can modify the Zen Cart software to not send to non-existent addresses. Here&amp;rsquo;s a sample implementation from Zen Cart 1.5.7:&lt;/p&gt;
&lt;p&gt;In &lt;code&gt;includes/functions/functions_email.php&lt;/code&gt;, right before the check of &lt;code&gt;EMAIL_MODULES_TO_SKIP&lt;/code&gt;, i.e.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    if (defined(&amp;#39;EMAIL_MODULES_TO_SKIP&amp;#39;) &amp;amp;&amp;amp; in_array($module,explode(&amp;#34;,&amp;#34;,constant(&amp;#39;EMAIL_MODULES_TO_SKIP&amp;#39;)))) return false;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;add code that checks a defined constant containing valid addresses at your domain.  Skip sending if the email has your domain name but is not in this list.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    $mail_parts = explode(&amp;#39;@&amp;#39;,strtolower($to_address)); 
    if ($mail_parts[1] == &amp;#39;YOURDOMAIN.com&amp;#39;) {
       $good_emails = explode(&amp;#34;,&amp;#34;, LIVE_EMAIL);
       if (empty($good_emails)) return; 
       for ($i = 0; $i &amp;lt; sizeof($good_emails); $i++) {
          $good_emails[$i] = trim($good_emails[$i]); 
          $good_emails[$i] = str_replace(&amp;#39;@YOURDOMAIN.com&amp;#39;,&amp;#39;&amp;#39;,$good_emails[$i]); 
       }
       if (in_array($mail_parts[0], $good_emails)) {
         // continue processing 
       } else {
          return true;  // pretend we have sent the email
       }
    } 
&lt;/code&gt;&lt;/pre&gt;
      </description>
    </item>
    
    <item>
      <title>User: Gmail</title>
      <link>/zendocs_test1/user/email/gmail/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/gmail/</guid>
      <description>
        
        
        &lt;p&gt;This topic is covered in &lt;a href=&#34;/zendocs_test1/user/email/external_smtp_servers/#google-mail--gmail&#34;&gt;Using External SMTP Servers&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If your issue is that you don&amp;rsquo;t see Gmail in your Email Transport options, see &lt;a href=&#34;https://www.zen-cart.com/showthread.php?223581-Done-v1-5-6-EMAIL_TRANSPORT-settings-created-by-install-upgrade-missing-Gmail&amp;amp;p=1372383#post1372383&#34;&gt;this forum post&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: How do I build HTML-formatted Email for other languages?</title>
      <link>/zendocs_test1/user/email/multilang/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/multilang/</guid>
      <description>
        
        
        &lt;p&gt;The HTML emails are built from the structure of the template files in the &lt;code&gt;/email&lt;/code&gt; folder. These are normally used for all languages.
However, you may create/use language-specific templates in subfolders named in accordance with the 2-letter language code.&lt;/p&gt;
&lt;p&gt;ie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/email/de/&lt;/li&gt;
&lt;li&gt;/email/es/&lt;/li&gt;
&lt;li&gt;/email/fr/&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A template in a language folder will be used for that language in preference to the &lt;code&gt;/email&lt;/code&gt; folder. It is not necessary to replicate all the templates from the &lt;code&gt;/email&lt;/code&gt; folder, only those you wish to format differently.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: How do I email all my customers about a sale or promotion?</title>
      <link>/zendocs_test1/user/email/all_customers/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/all_customers/</guid>
      <description>
        
        
        &lt;p&gt;Sending large numbers of emails from your own hosting account is not recommended.  See &lt;a href=&#34;/zendocs_test1/user/email/newsletters/&#34;&gt;Newsletters&lt;/a&gt; for alternatives.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: How do I prevent my email from being treated like spam?</title>
      <link>/zendocs_test1/user/email/spam/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/spam/</guid>
      <description>
        
        
        &lt;p&gt;The most common cause of email being treated as spam stems from how your &lt;strong&gt;webserver&lt;/strong&gt; is configured to send mail. By default, emails sent with the Transport set to PHP will appear as a user called &amp;ldquo;&lt;a href=&#34;mailto:nobody@yourdomain.com&#34;&gt;nobody@yourdomain.com&lt;/a&gt;&amp;rdquo; or something similar. Most spam filters will look at that and assume that those emails were generated by spam bots and thus the message is dumped without any further consideration.&lt;/p&gt;
&lt;p&gt;Other causes include messages which have ALL UPPERCASE letters in their Subject field. Don&amp;rsquo;t do that. You can usually set the subject line for individual emails in your Zen Cart language files.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;change your email transport method to &amp;ldquo;SMTPAUTH&amp;rdquo; (or &amp;ldquo;sendmail -f&amp;rdquo; as a last resort). This will cause the messages to appear as they are coming from &amp;ldquo;you&amp;rdquo; instead of as coming from your server&amp;rsquo;s unsigned PHP.&lt;/li&gt;
&lt;li&gt;the option &amp;lsquo;Emails must send from known domain?&amp;rsquo; should be set to True. This will cause e-mail providers see that it is coming from someplace legitimate and not filter it as spam. And, more specifically, your own webserver will not ignore it because it will now appear as legitimately coming from itself (whom it &amp;ldquo;knows&amp;rdquo;), rather than from a 3rd-party.&lt;/li&gt;
&lt;li&gt;AOL and Hotmail dump emails originating from server/client IP addresses that fail DNS reverse lookup. You should talk to your webhost to ensure that your webserver and hosting account / domain are properly configured with a PTR or DNS reverse lookup. If those words/terms don&amp;rsquo;t mean anything to you, simply talk to your hosting company about them!&lt;/li&gt;
&lt;li&gt;Ensure you haven&amp;rsquo;t damaged your own deliverability by &lt;a href=&#34;/zendocs_test1/user/email/fabricating_email_addresses/&#34;&gt;fabricating email addresses&lt;/a&gt; but not properly handling them with a catch-all or some other mechanism.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>User: HTML Email Templates</title>
      <link>/zendocs_test1/user/email/html_email_templates/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/html_email_templates/</guid>
      <description>
        
        
        &lt;h3 id=&#34;email-system-settings-relating-to-rich-text-messages&#34;&gt;Email System Settings relating to rich text messages:&lt;/h3&gt;
&lt;p&gt;In Admin &amp;gt;Configuration &amp;gt; E-Mail Options&lt;/p&gt;
&lt;p&gt;a.Â Make sure your &amp;ldquo;&lt;strong&gt;E-Mail Transport Method&lt;/strong&gt;&amp;rdquo; is set appropriately for the webserver you&amp;rsquo;re using. Using SMTPAUTH is strongly advised. Do not use &amp;ldquo;PHP&amp;rdquo; unless nothing else works.&lt;/p&gt;
&lt;p&gt;b.Â &lt;strong&gt;Enable HTML Emails?&lt;/strong&gt; = &amp;ldquo;true&amp;rdquo; &lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;c.Â &lt;strong&gt;Send E-Mails&lt;/strong&gt; = true&lt;/p&gt;
&lt;p&gt;d.Â &lt;strong&gt;Email Archiving Active?&lt;/strong&gt; = If you are testing or debugging, we recommend setting this to &amp;ldquo;true&amp;rdquo; &amp;ndash; note, this will increase your database size regularly.  &lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-if-i-have-my-own-html-code-to-paste-into-an-email-rather-than-using-an-editor-in-my-browser&#34;&gt;What if I have my own HTML code to paste into an email? (rather than using an editor in my browser)&lt;/h3&gt;
&lt;p&gt;You can optionally toggle the HTML editor&amp;rsquo;s &amp;ldquo;source&amp;rdquo; option on (check the box, or click the symbol), and just paste raw HTML into the editor directly, if you wish.&lt;/p&gt;
&lt;p&gt;Further, if you leave the editor disabled, but enable sending HTML messages, you can simply paste the raw HTML in the rich text field directly.&lt;/p&gt;
&lt;h3 id=&#34;what-about-text-only-messagescustomers&#34;&gt;What about text-only messages/customers?&lt;/h3&gt;
&lt;p&gt;You can enter customizable TEXT-ONLY content in the lower section, which will be sent along with the HTML in case readers don&amp;rsquo;t have HTML-compatible email clients.Â If you leave the &amp;ldquo;TEXT ONLY&amp;rdquo; area blank, your HTML content will be converted (roughly by removing HTML tags) and sent along as the Text portion anyway.&lt;/p&gt;
&lt;h2 id=&#34;how-to-use-the-html-mail-template-system&#34;&gt;HOW TO USE the HTML Mail Template System&lt;/h2&gt;
&lt;p&gt;The email template system operates through the 
&lt;code&gt;email_*.htm&lt;/code&gt; files in your &lt;code&gt;/email&lt;/code&gt; folder.&lt;/p&gt;
&lt;h2 id=&#34;multiple-languages&#34;&gt;MULTIPLE LANGUAGES&lt;/h2&gt;
&lt;p&gt;You can duplicate the template files into language-specific folders using the language &amp;ldquo;short&amp;rdquo; code, using the following format:&lt;/p&gt;
&lt;p&gt;/email/ = this is your english/master set of files&lt;br&gt;
/emai//fr/ = french&lt;br&gt;
/email/de/ = german&lt;br&gt;
/email/es/ = spanish&lt;br&gt;
&amp;hellip;&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t copy a certain file into the language folder, the english master will be used.&lt;/p&gt;
&lt;h2 id=&#34;email-template-stylesheet&#34;&gt;EMAIL TEMPLATE STYLESHEET&lt;/h2&gt;
&lt;p&gt;Since HTML-based email standards are varied more widely than the shape of each cloud in the sky, it&amp;rsquo;s impossible to predict the behaviour of any email client&amp;rsquo;s output rendering.Â &lt;strong&gt;Thus, linked stylesheets are not recommended.&lt;/strong&gt;Â Some email reader/clients will completely reject an email that has a stylesheet link ref in it.&lt;/p&gt;
&lt;p&gt;In coding your HTML email message templates, &lt;u&gt;&lt;strong&gt;it&amp;rsquo;s best to code to HTML 3.2 and CSS1 standards&lt;/strong&gt;&lt;/u&gt; for optimum compatibility.&lt;/p&gt;
&lt;h1 id=&#34;template-system-keywords-matrix&#34;&gt;TEMPLATE SYSTEM KEYWORDS MATRIX&lt;/h1&gt;
&lt;p&gt;The following key words are replaced with active HTML by the various modules.Â Simply retain them in any revisions you make to your template structure, and all should come out just fine !!!&lt;br&gt;
Note that all template tags should be prefixed with a $&lt;/p&gt;
&lt;h3 id=&#34;all-modules&#34;&gt;All Modules&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$EMAIL_FIRST_NAMEÂ (most modules supply the customer names)  
$EMAIL_LAST_NAME  

$EMAIL_TO_NAME  
$EMAIL_TO_ADDRESSÂ (TO: email address)  
$EMAIL_FROM_NAME  
$EMAIL_FROM_ADDRESSÂ (FROM: email address.... default is EMAIL_FROM defined in Admin)  
$EMAIL_STORE_NAMEÂ (Defined in Admin | My Store)  
$EMAIL_STORE_OWNERÂ (Store Owner&amp;#39;s NAME -- defined in Admin)  
$EMAIL_STORE_URLÂ (Preformatted A HREF for your store&amp;#39;s URL, using STORE_NAME for the displayed text)  
$EMAIL_DATE_LONGÂ (ie: Monday June 14, 2004 11:28 am)  
$EMAIL_DATE_SHORTÂ (ie: 06/14/2004)  
$BASE_HREFÂ (store http root)  
$EXTRA_INFOÂ (this is the &amp;#34;office-use-only&amp;#34; section at the bottom of messages cc&amp;#39;d to Admin)  
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;These values are defined in &lt;code&gt;includes/languages/YOURLANGUAGE/email_extras.php&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$EMAIL_DISCLAIMERÂ (general disclaimer)  
$EMAIL_SPAM_DISCLAIMERÂ (disclaimer re: SPAM -- should be customized to your country&amp;#39;s laws...and of course you should abide by them!)  
$EMAIL_FOOTER_COPYRIGHT  
$EMAIL_MESSAGE_HTMLÂ (this is any composed text (via editors) that you plan to send)  
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;admin-area&#34;&gt;ADMIN AREA:&lt;/h2&gt;
&lt;h3 id=&#34;coupon&#34;&gt;Coupon&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Dear $EMAIL_FIRST_NAME $EMAIL_LAST_NAME,  
$EMAIL_MESSAGE_HTMLÂ (message composed in Admin)  
$COUPON_TEXT_TO_REDEEMÂ (&amp;#34;You&amp;#39;ve received a coupon&amp;#34;)  
$COUPON_TEXT_VOUCHER_ISÂ (The voucher number is:&amp;#34;)  
$COUPON_CODEÂ (Actual voucher number)  
$COUPON_DESCRIPTIONÂ (Coupon description, if supplied in Admin area when coupon was created)  
$COUPON_TEXT_REMEMBERÂ (&amp;#34;Keep this number safe so you don&amp;#39;t forget it&amp;#34;)  
$COUPON_REDEEM_STORENAME_URLÂ (&amp;#34;To redeem, come visit us at our store: +URL&amp;#34;)  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;gv-mail-from-admin&#34;&gt;GV-Mail-From-Admin&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Dear $EMAIL_FIRST_NAME $EMAIL_LAST_NAME  
$EMAIL_MESSAGE_HTMLÂ (Message composed in Admin)  
$GV_WORTHÂ (&amp;#34;You&amp;#39;ve received a GV worth: &amp;#34; )  
$GV_AMOUNTÂ (GV amount)  
$GV_REDEEMÂ (To redeem, goto our store, or click here:)  
$GV_CODE_URLÂ (URL to redeem GV)  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;gv-queue-in-admin-to-release-purchased-gvs-after-screening&#34;&gt;GV-Queue in Admin (to release purchased GV&amp;rsquo;s after screening)&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Dear $EMAIL_FIRST_NAME $EMAIL_LAST_NAME  
$GV_NOTICE_INTROÂ (You purchased a GV from our store: URL)Â (optional)  
$GV_NOTICE_AMOUNT_URLÂ (You purchased a GV of $$$$ from our store: URL)  
$GV_NOTICE_VALUEÂ (Amount of GV purchased, and now being released)  
$TEXT_REDEEM_COUPON_MESSAGE_BODYÂ (null unless defined in lang file)  
$TEXT_REDEEM_COUPON_MESSAGE_FOOTERÂ (null unless defined in lang file)Â   
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;low-stock&#34;&gt;Low Stock&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;- $EMAIL_SUBJECT  
- $EMAIL_MESSAGE_HTML -- contains the low-stock details generated by the checkout process  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;newsletters--product-notifications-and-admin-emails&#34;&gt;Newsletters &amp;amp; Product Notifications, and Admin Emails&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Dear $EMAIL_FIRST_NAME $EMAIL_LAST_NAME,  
$EMAIL_MESSAGE_HTMLÂ (composed by Admin)  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;order-status-updates-from-admin&#34;&gt;Order Status Updates from Admin&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$EMAIL_CUSTOMERS_NAMEÂ (extracted from Orders table -- combines first/last names based on what&amp;#39;s in DB)  
$EMAIL_STORE_NAME  
$EMAIL_TEXT_ORDER_NUMBERÂ (Order Number from database)  
$EMAIL_TEXT_INVOICE_URLÂ (URL to access &amp;#34;My Account History&amp;#34;)  
$EMAIL_TEXT_DATE_ORDEREDÂ (Order Date)  
$EMAIL_TEXT_STATUS_UPDATEDÂ (&amp;#34;Has been updated to:&amp;#34;)  
$EMAIL_TEXT_STATUS_LABELÂ (&amp;#34;New Status:&amp;#34;)  
$EMAIL_TEXT_NEW_STATUSÂ (actual status description and comments)  
$EMAIL_TEXT_STATUS_PLEASE_REPLYÂ (&amp;#34;Please reply to this address if you have questions&amp;#34;)  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;password-forgotten&#34;&gt;Password Forgotten:&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$EMAIL_SUBJECTÂ (&amp;#34;password reset requested&amp;#34;)  
$CUSTOMERS_NAMEÂ (Admin or customer&amp;#39;s name)  
$EMAIL_MESSAGE_HTMLÂ (actual pwd reset info)  
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;catalog-area&#34;&gt;CATALOG AREA:&lt;/h2&gt;
&lt;h3 id=&#34;contact-us&#34;&gt;Contact-Us&lt;/h3&gt;
&lt;p&gt;NOTE: Contact-Us emails are always sent as text. This helps prevent some spam issues.&lt;/p&gt;
&lt;h3 id=&#34;welcome-email&#34;&gt;Welcome Email&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$EMAIL_GREETINGÂ (Mr/Ms/Dear + first and/or last-names)  
$EMAIL_WELCOMEÂ (&amp;#34;Welcome to ....storename....&amp;#34;)  

$COUPON_BLOCK ... this already CONTAINS the following, and is only displayed IF they have been set for new customers via the Admin | My Store | GV/Coupons.  
.....$COUPON_TEXT_VOUCHER_IS  
.....$COUPON_DESCRIPTION  
.....$COUPON_TEXT_TO_REDEEM  
.....$COUPON_CODE  
$GV_BLOCK ... this already contains the following, and is only displayed if GV&amp;#39;s have been set for new customers, see coupons above.  
.....$GV_WORTH  
.....$GV_REDEEM  
.....$GV_CODE_URL  

$EMAIL_MESSAGE_HTMLÂ (the actual welcome message: defined by the &amp;#34;EMAIL_TEXT&amp;#34; constant)  
$EMAIL_CONTACT_OWNER  
$EMAIL_CLOSURE  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;gv-send-to-a-friend-after-purchased-and-applied-to-my-account&#34;&gt;GV Send to a friend, after purchased and applied to my account&lt;/h3&gt;
&lt;p&gt;GV Pic is displayed, with these beside it:Â &lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;......$EMAIL_GV_AMOUNTÂ   
......$GV_REDEEM_CODE  
$EMAIL_STORE_NAME  
$EMAIL_GV_TEXT_HEADERÂ (I&amp;#39;m sending you a GV)  
$EMAIL_GV_AMOUNTÂ (Amount of)  
$EMAIL_GV_FROMÂ (From my name)  
$EMAIL_GV_MESSAGEÂ (&amp;#34;With a message from me&amp;#34;)  
$EMAIL_GV_SEND_TOÂ (Your name)  
$EMAIL_MESSAGE_HTMLÂ (My message -- entered before sending)  
$GV_REDEEM_HOWÂ (How to redeem the GV)  
$GV_REDEEM_URLÂ (URL to redeem)  
$EMAIL_GV_FIXED_FOOTERÂ (If you&amp;#39;re having problems redeeming, enter it during checkout, or contact storeowner)  
$EMAIL_GV_SHOP_FOOTERÂ (null at present)  
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;order-confirmation&#34;&gt;Order-Confirmation&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$EMAIL_TEXT_HEADERÂ (&amp;#34;Order Confirmation&amp;#34;)  
$INTRO_STORE_NAME  
$INTRO_ORDER_NUM_TITLEÂ (&amp;#34;Order Number:&amp;#34;)  
$INTRO_ORDER_NUMBERÂ (actual order number)  
$INTRO_DATE_TITLEÂ (&amp;#34;Ordered on:&amp;#34;)  
$INTRO_DATE_ORDEREDÂ (Date ordered)  
$INTRO_URL_TITLEÂ (Description in A HREF to My Account)  
$INTRO_URL_VALUEÂ (A HREF to My Account)  
$ORDER_COMMENTSÂ (Customer&amp;#39;s comments entered at order time)  
$PRODUCTS_TITLEÂ (&amp;#34;Product Details:&amp;#34;)  
$PRODUCTS_LISTÂ (Detailed list of products and attributes and prices)  
$ORDER_TOTALSÂ (Order totals)  
$HEADING_ADDRESS_INFORMATIONÂ (&amp;#34;Address Info:&amp;#34;)  
$ADDRESS_DELIVERY_TITLEÂ (&amp;#34;Delivery address:&amp;#34;)  
$ADDRESS_DELIVERY_ADDRESSÂ (Actual delivery address on order)  
$SHIPPING_METHOD_TEXTÂ (&amp;#34;Shipping Method&amp;#34;)  
$SHIPPING_METHOD_TITLEÂ (Shipping method selected)  
$ADDRESS_BILLING_TITLEÂ (&amp;#34;Billing address:&amp;#34;)  
$ADDRESS_BILLING_DETAILÂ (Billing address on order)  
$PAYMENT_METHOD_TEXTÂ (&amp;#34;Payment Method:&amp;#34;)  
$PAYMENT_METHOD_TITLEÂ (Payment method selected)  
$PAYMENT_METHOD_FOOTERÂ (Payment method footer, if any)
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Prior to Zen Cart 1.5.5, this option was called &lt;strong&gt;Use MIME HTML When Sending Emails&lt;/strong&gt;.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;To access the email archive, see &lt;a href=&#34;/zendocs_test1/user/email/email_archive_manager/&#34;&gt;Email Archive Manager&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>User: Logos in HTML emails</title>
      <link>/zendocs_test1/user/email/logo/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/logo/</guid>
      <description>
        
        
        &lt;p&gt;The email logo is contained in the file &lt;code&gt;email/header.jpg&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Replace this file with your logo, then update the following two files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;includes/languages/english/YOURTEMPLATE/email_extras.php&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;admin/includes/languages/english/email_extras.php&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In each file, you will want to update the block&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  define (&amp;#39;EMAIL_LOGO_FILENAME&amp;#39;, &amp;#39;header.jpg&amp;#39;);  //-File is present in /email folder
  define (&amp;#39;EMAIL_LOGO_WIDTH&amp;#39;, &amp;#39;550&amp;#39;);
  define (&amp;#39;EMAIL_LOGO_HEIGHT&amp;#39;, &amp;#39;110&amp;#39;);
  define (&amp;#39;EMAIL_LOGO_ALT_TITLE_TEXT&amp;#39;, &amp;#39;Zen Cart! The Art of E-commerce&amp;#39;);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If you use the same logo for your site and your email, the values for these defined constants will be the same ones as you entered in your &lt;code&gt;includes/languages/english/YOURTEMPLATE/header.php&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;Sometimes the change will not show up right away in emails that have already been sent and viewed, due to caching. Simply close your email program and re-open it to see the change take effect.  If your email is browser-based, clear your browser cache to see the change.  See &lt;a href=&#34;/zendocs_test1/user/new_user_topics/browser_caching/&#34;&gt;caching&lt;/a&gt; for more details.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE: You must be sending HTML emails for this to work.&lt;/strong&gt;  See the Enable HTML Emails setting in &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email Options &lt;/a&gt; setting.&lt;/p&gt;
&lt;h2 id=&#34;related-articles&#34;&gt;Related Articles&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/orders/high_res_logo&#34;&gt;Using your logo on packing slips and invoices&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/new_user_topics/change_header_logo/&#34;&gt;Changing the logo in the header&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>User: Newsletters</title>
      <link>/zendocs_test1/user/email/newsletters/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/newsletters/</guid>
      <description>
        
        
        &lt;p&gt;Sending large numbers of emails (newsletters or other marketing content)
using &lt;a href=&#34;/zendocs_test1/user/admin_pages/tools/send_email/&#34;&gt;Send Email&lt;/a&gt; or 
&lt;a href=&#34;/zendocs_test1/user/admin_pages/tools/newsletter/&#34;&gt;Newsletter Manager&lt;/a&gt;
is not recommended.  Your server and hosting account probably don&amp;rsquo;t allow for
mass quantities of broadcast emails, and doing so could cause you to be treated like a spammer.&lt;/p&gt;
&lt;p&gt;Instead, we recommend that you use an &lt;em&gt;Email Service Provider&lt;/em&gt; (ESP) to handle your
bulk emailing needs.  See below for more information about using an ESP.&lt;/p&gt;
&lt;h3 id=&#34;exporting-email-addresses&#34;&gt;Exporting Email Addresses&lt;/h3&gt;
&lt;p&gt;To export email addresses, use the &lt;a href=&#34;https://www.zen-cart.com/downloads.php?do=file&amp;amp;id=6&#34;&gt;Email Address Exporter&lt;/a&gt; plugin and use it to feed the emails into a 3rd-party provider.&lt;/p&gt;
&lt;h1 id=&#34;using-an-email-service-provider&#34;&gt;Using an Email Service Provider&lt;/h1&gt;
&lt;h3 id=&#34;mailchimp&#34;&gt;MailChimp&lt;/h3&gt;
&lt;p&gt;There are several alternatives for sending newsletters and mass marketing messages.
The best known service that has a free pricing level is MailChimp. 
With them you can send emails, generate reports, do automation and more. 
They offer a few pre-built templates and their free service is sufficient for most small sites. 
They also have paid features and now position themselves as a full marketing platform.&lt;/p&gt;
&lt;p&gt;A &lt;a href=&#34;https://www.zen-cart.com/downloads.php?do=file&amp;amp;id=425&#34;&gt;MailChimp Integration&lt;/a&gt; plugin is available for Zen Cart.&lt;/p&gt;
&lt;h3 id=&#34;mailchimp-alternatives&#34;&gt;MailChimp Alternatives&lt;/h3&gt;
&lt;p&gt;Other providers exist as well, but you will need to do your own integration.&lt;/p&gt;
&lt;p&gt;Some names you might have heard of are Constant Contact, SendInBlue, and Sendy.&lt;/p&gt;
&lt;p&gt;If you want to look for other options, do a web search for &amp;ldquo;newsletter provider service.&amp;rdquo;&lt;/p&gt;
&lt;h3 id=&#34;admin-settings-when-using-an-email-service-provider&#34;&gt;Admin Settings when using an Email Service Provider&lt;/h3&gt;
&lt;p&gt;Because you are no longer using Zen Cart&amp;rsquo;s newsletter feature, you will want to stop capturing signups through Zen Cart.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Turn off &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_customerdetails/#show_newsletter_checkbox&#34;&gt;Show Newsletter Checkbox&lt;/a&gt; in Admin &amp;gt; Configuration &amp;gt; Customer Details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Turn off &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/#display_newsletter_unsubscribe_link&#34;&gt;Display &amp;ldquo;Newsletter Unsubscribe&amp;rdquo; Link&lt;/a&gt; in Admin &amp;gt; Configuration &amp;gt; E-Mail Options.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;handling-subscribes-and-unsubscribes&#34;&gt;Handling Subscribes and Unsubscribes&lt;/h3&gt;
&lt;p&gt;Most Email Service Providers will provide you with a signup form to use on your website that allows you to allow people to signup for your newsletter.  Use this form, either as a &lt;a href=&#34;/zendocs_test1/user/template/sideboxes/&#34;&gt;sidebox&lt;/a&gt; or as a &lt;a href=&#34;/zendocs_test1/user/customizing/add_pages/#build-a-new-custom-page&#34;&gt;new custom page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Generally unsubscribes will be done by clicking the unsubscribe link that is provided at the bottom of your email; doing this within your cart is somewhat complicated and will require custom coding.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Using External SMTP Servers</title>
      <link>/zendocs_test1/user/email/external_smtp_servers/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/external_smtp_servers/</guid>
      <description>
        
        
        &lt;p&gt;Some people prefer to use resources such as Gmail or Yahoo! Mail for sending their business emails. There are differing schools of thought about the merits of doing so. If you deem that this is the best practice for your business, the following information may be of help to you.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If you are self-hosting on a local PC server for development purposes, remember that your ISP (internet provider) usually blocks outgoing traffic on port 25, which is commonly used for email. Anything on port 25 destined for any server other than the ISP&amp;rsquo;s own email server is generally blocked in order to control spam. You will need to choose another port (usually 587 or sometimes 465) and use SMTPAUTH and specify the correct SMTP server credentials.&lt;/p&gt;
&lt;p&gt;See here: for a &lt;a href=&#34;http://www.arclab.com/products/amlc/list-of-smtp-and-pop3-servers-mailserver-list.html&#34;&gt;list of common server SMTP addresses&lt;/a&gt; if you&amp;rsquo;re using a &amp;ldquo;free&amp;rdquo; email service.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Many customers prefer that you have a legitimate email address matching your domain name, not something like &lt;code&gt;billys-store@gmail.com&lt;/code&gt; which is rather less authentic-looking. Build credibility with your customers by getting proper email addresses to match your domain name!&lt;/p&gt;
&lt;h2 id=&#34;smtp-over-tls&#34;&gt;SMTP over TLS&lt;/h2&gt;
&lt;p&gt;TLS is the modern preferred method for secure email transfer. To use TLS, simply set your port to &lt;code&gt;587&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In &lt;strong&gt;rare cases&lt;/strong&gt; you may need to get really technical and also specify your TLS/SSL Certificate by adding a define for &amp;lsquo;SMTPAUTH_EMAIL_CERTIFICATE_CONTEXT&amp;rsquo; in the extra_datafiles folder to supply your certificate-context, and in that same file also define SMTPAUTH_EMAIL_PROTOCOL to &amp;lsquo;starttls&amp;rsquo;. This is arguably more complicated and should be considered a last resort. Definitely try to sort out your email issues with your host before attempting StartTLS configuration!&lt;/p&gt;
&lt;h2 id=&#34;smtp-over-ssl&#34;&gt;SMTP over SSL&lt;/h2&gt;
&lt;p&gt;Some hosts still haven&amp;rsquo;t configured their servers for TLS properly, so you may have to use the old SSL approach.
If your host requires that you send email over SSL, then set your SMTP Port to &lt;code&gt;465&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;yahoo-hosting&#34;&gt;Yahoo Hosting&lt;/h2&gt;
&lt;p&gt;If you are using Yahoo as a webhost, doing a search in the Yahoo help pages for PHP/Perl set up may help. Also setting up a tmp file in your Yahoo account may shed a bunch of light on things and give you answers right away as to why the e-mail isn&amp;rsquo;t sending.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In your Yahoo control panel, check if the email address you are using is set as &amp;ldquo;Pop/Webmail&amp;rdquo;, and not just &amp;ldquo;Mail Administrator&amp;rdquo;. You may have to create a new one.&lt;/li&gt;
&lt;li&gt;The Zen Cart setting &lt;code&gt;Emails must send from known domain&lt;/code&gt; must be set to Yes, and mail transport should be &lt;code&gt;SMTPAUTH&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;In Zen Cart set the SMTP Host to Yahoo&amp;rsquo;s Outgoing (SMTP) Mail Server: &lt;code&gt;smtp.mail.yahoo.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SMTP Port &lt;code&gt;465&lt;/code&gt; (You MIGHT be able to use &lt;code&gt;587&lt;/code&gt;, but may have to check with tech support first.)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you&amp;rsquo;re hosting someplace other than Yahoo but trying to send email through your Yahoo email address, work with your hosting company to configure your &lt;code&gt;DomainKeys&lt;/code&gt; and &lt;code&gt;SPF&lt;/code&gt; settings to allow the emails to be accepted instead of being rejected as forged spam messages.&lt;/p&gt;
&lt;h2 id=&#34;google-mail--gmail&#34;&gt;Google Mail / Gmail&lt;/h2&gt;
&lt;p&gt;Gmail / Google Apps Mail requires that your email communications occur over a secure channel, which means you need to send on port &lt;code&gt;587&lt;/code&gt; for TLS.&lt;/p&gt;
&lt;p&gt;Zen Cart supports this by using the following settings in &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email Options&lt;/a&gt;:&lt;/p&gt;
&lt;h3 id=&#34;gmail&#34;&gt;Gmail&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Email Transport: &lt;code&gt;Gmail&lt;/code&gt; &lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;SMTP Username: your gmail username&lt;/li&gt;
&lt;li&gt;SMTP Password: your gmail password&lt;/li&gt;
&lt;li&gt;SMTP Host: &lt;code&gt;smtp.gmail.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SMTP Port &lt;code&gt;587&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;google-apps-mail&#34;&gt;Google Apps Mail&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Email Transport: &lt;code&gt;SMTPAUTH&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SMTP Username: your google-apps-mail username&lt;/li&gt;
&lt;li&gt;SMTP Password: your google-apps-mail password&lt;/li&gt;
&lt;li&gt;SMTP Host: &lt;code&gt;smtp.gmail.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SMTP Port &lt;code&gt;587&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To use email (eg &lt;code&gt;SMTPAUTH&lt;/code&gt;) with a Google mail account you need to enable &lt;a href=&#34;https://myaccount.google.com/lesssecureapps&#34;&gt;&lt;code&gt;allow less secure authentication&lt;/code&gt;&lt;/a&gt; inside your google account settings. (This name sounds much worse than it is; it&amp;rsquo;s still secure.)&lt;/p&gt;
&lt;p&gt;Instructions on allowing less secure apps to use your account are provided &lt;a href=&#34;https://support.google.com/accounts/answer/6010255?hl=en&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You may also need to &lt;a href=&#34;https://www.google.com/accounts/DisplayUnlockCaptcha&#34;&gt;visit the unlock CAPTCHA page&lt;/a&gt; to allow 3rd party access.&lt;/p&gt;
&lt;p&gt;More technical information is available in &lt;a href=&#34;http://mail.google.com/support/bin/answer.py?answer=13287&#34;&gt;Google&amp;rsquo;s Help Center&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You may have to have your host make some changes to your domain&amp;rsquo;s &lt;code&gt;MX&lt;/code&gt; records if you are using Google hosted mail. Details for that are on Google&amp;rsquo;s help site.&lt;/p&gt;
&lt;p&gt;You may also have to open your webserver&amp;rsquo;s firewall to allow access to Google&amp;rsquo;s servers and whatever port you&amp;rsquo;re using to communicate with them. Your hosting company&amp;rsquo;s server administrator will know how to identify the correct address and how to fix their firewall accordingly.&lt;/p&gt;
&lt;h2 id=&#34;office-365&#34;&gt;Office 365&lt;/h2&gt;
&lt;p&gt;Use the following settings in &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/&#34;&gt;Admin &amp;gt; Configuration &amp;gt; Email Options&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Email Transport: smtpauth&lt;/li&gt;
&lt;li&gt;SMTP Username: your Outlook email address&lt;/li&gt;
&lt;li&gt;SMTP Password: your Outlook password&lt;/li&gt;
&lt;li&gt;SMTP Host: smtp.office365.com&lt;/li&gt;
&lt;li&gt;SMTP Port 587&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And in your Office 365 account add the email as a safe sender of the account &amp;hellip; essentially whitelisting yourself.&lt;/p&gt;
&lt;p&gt;Other things to check:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ensure your hoster is not blocking third party SMTP services.&lt;/li&gt;
&lt;li&gt;Ensure your hoster is allowing the use of port 587.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some additional steps will be required.  Try Procedure 1 first, and if that doesn&amp;rsquo;t work, try Procedure 2.&lt;/p&gt;
&lt;h3 id=&#34;procedure-1&#34;&gt;Procedure 1:&lt;/h3&gt;
&lt;p&gt;Like Gmail, Office365 has a &amp;ldquo;switch&amp;rdquo; to configure to allow SMTP use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In your Office365 admin panel, find the account for the Mailbox User you want to send &amp;ldquo;from&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Under that account&amp;rsquo;s &amp;ldquo;E-Mail&amp;rdquo; tab, find the &amp;ldquo;E-mail Apps&amp;rdquo; section and click Manage&lt;/li&gt;
&lt;li&gt;Enable the &amp;ldquo;Authenticated SMTP&amp;rdquo; option, and save.&lt;/li&gt;
&lt;li&gt;In Zen Cart set your SMTP Email Account Password to your mailbox password which you use to login to the account in Office365&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;procedure-2&#34;&gt;Procedure 2:&lt;/h3&gt;
&lt;p&gt;If that isn&amp;rsquo;t enough, then you can also go one step further and create an &amp;ldquo;app-specific password&amp;rdquo; for your Store to use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;in Office365 enable MultiFactor Authentication for the entire company&lt;/li&gt;
&lt;li&gt;then login to the specific mailbox account you wish to send From&lt;/li&gt;
&lt;li&gt;in the Security Info section of the Account, Add an Application Password&lt;/li&gt;
&lt;li&gt;For its &amp;ldquo;name&amp;rdquo; (which is just a description of where you use it) say &amp;ldquo;Online Store&amp;rdquo;, then click Next&lt;/li&gt;
&lt;li&gt;you will see the password generated by Office365. Copy that password to your clipboard.&lt;/li&gt;
&lt;li&gt;paste that password into your Zen Cart&amp;rsquo;s SMTP Email Account Password field instead of the usual password you use to login to the mailbox&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can get more help on this topic from &lt;a href=&#34;https://support.microsoft.com/en-us/account-billing/using-app-passwords-with-apps-that-don-t-support-two-step-verification-5896ed9b-4263-e681-128a-a6f2979a7944&#34;&gt;Microsoft&amp;rsquo;s website&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;godaddy-hosting-plans&#34;&gt;GoDaddy Hosting Plans&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;If using the default &lt;code&gt;PHP&lt;/code&gt; setting for Email Transport method doesn&amp;rsquo;t work, try the following:
&lt;ul&gt;
&lt;li&gt;Use &lt;code&gt;SMTP&lt;/code&gt; for your Email Transport setting instead.&lt;/li&gt;
&lt;li&gt;Set your SMTP Email Server address to: &lt;code&gt;relay-hosting.secureserver.net&lt;/code&gt;, and the Mail Server Port to &lt;code&gt;25&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;GoDaddy&amp;rsquo;s odd configuration usually requires that you leave the SMTP mailbox and password fields blank. (Alternatively use enter your email address as the mailbox, and supply the corresponding password.)&lt;/li&gt;
&lt;li&gt;Set the &lt;code&gt;Emails must send from known domain&lt;/code&gt; to yes. (This is required so that the GD mail servers don&amp;rsquo;t reject your emails)&lt;/li&gt;
&lt;li&gt;For your &amp;ldquo;Sent FROM&amp;rdquo; email address, use an email address that matches the domain name of your website. ie: if your website is &lt;a href=&#34;https://www.abc.com&#34;&gt;www.abc.com&lt;/a&gt;, then use something like &lt;a href=&#34;mailto:sales@abc.com&#34;&gt;sales@abc.com&lt;/a&gt; as your Sent From email address (otherwise GD may reject your emails).&lt;/li&gt;
&lt;li&gt;Do not send an email &amp;ldquo;to yourself&amp;rdquo;, &amp;ldquo;from yourself&amp;rdquo; when testing.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Set your Max Email limit:
&lt;ul&gt;
&lt;li&gt;If you have a GoDaddy hosting plan and plan to use it for sending emails from your Zen Cart site, you should check your email account list and set the &lt;code&gt;smtp relay transmissions per day&lt;/code&gt; to the max of 250/day instead of the default of 0/day.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;other-choices&#34;&gt;Other Choices&lt;/h2&gt;
&lt;p&gt;Other SMTP providers that Zen Cart users have had success with are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mandrill (by MailChimp)&lt;/li&gt;
&lt;li&gt;SMTP2Go&lt;/li&gt;
&lt;li&gt;Mailgun&lt;/li&gt;
&lt;li&gt;SendGrid&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;troubleshooting&#34;&gt;Troubleshooting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;If you are on shared hosting, you may simply not be allowed to use an external SMTP server.  Check with your hoster.&lt;/li&gt;
&lt;li&gt;You may have to tell your hoster that you want to use an external SMTP server and have them open port 587.&lt;/li&gt;
&lt;li&gt;You may need to &lt;a href=&#34;https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting&#34;&gt;troubleshoot PHPMailer&lt;/a&gt;, including &lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/#5-smtp-handshake-debugging&#34;&gt;SMTP Handshake debugging&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;You may have to review &lt;a href=&#34;/zendocs_test1/user/email/emails_not_received/&#34;&gt;email troubleshooting instructions&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;If this value does not appear in your list of Email Transport options, see &lt;a href=&#34;https://www.zen-cart.com/showthread.php?223581-Done-v1-5-6-EMAIL_TRANSPORT-settings-created-by-install-upgrade-missing-Gmail&amp;amp;p=1372383#post1372383&#34;&gt;this forum post&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>User: Welcome email</title>
      <link>/zendocs_test1/user/email/welcome/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/welcome/</guid>
      <description>
        
        
        &lt;p&gt;Say, for example, you wish to change the welcome email text because you do not plan to use the &amp;ldquo;Product Reviews&amp;rdquo; feature, and don&amp;rsquo;t wish it to be advertised to your customers.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Look at the welcome email you received as a new customer.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find the text in that email that you wish to change.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In this example, you desire to remove:&lt;/p&gt;
&lt;p&gt;Products Reviews - Share your opinions on products with our other customers.&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;Copy a few of those words &amp;ldquo;exactly&amp;rdquo; to the clipboard. Example: &lt;code&gt;your opinions on products&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open the &lt;a href=&#34;/zendocs_test1/user/admin/developers_toolkit/&#34;&gt;Developer&amp;rsquo;s Toolkit&lt;/a&gt; under Admin &amp;gt; Tools &amp;gt; Developers Tool Kit&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Paste those words exactly as they appeared on the email into the first search box.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the first drop-down, choose &amp;ldquo;All Language Files&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click Search&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You&amp;rsquo;ll find that the &lt;code&gt;includes/languages/english/create_account.php&lt;/code&gt; file is displayed with the exact line number where the text you desire to change is located.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now open that file on your PC and make your changes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upload the changes back to your server.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; It is recommended that you place your customized file in an Overrides folder, like this:
&lt;code&gt;includes/languages/english/YOURTEMPLATE/create_account.php&lt;/code&gt;.
where &lt;code&gt;YOURTEMPLATE&lt;/code&gt; is the name of the custom template you&amp;rsquo;ve been developing for your site.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HINT:&lt;/strong&gt; If you want to test your change once you have made it, rather than signing up for another free email account, you can just delete your account from your store in &lt;a href=&#34;/zendocs_test1/user/admin_pages/customers/customers/&#34;&gt;Admin &amp;gt; Customers &amp;gt; Customers&lt;/a&gt; and then create it in the usual way.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Where are my emails stored?</title>
      <link>/zendocs_test1/user/email/email_stored/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/email_stored/</guid>
      <description>
        
        
        &lt;p&gt;By default, sent emails are not stored.  You may however turn on saving emails
using setting the &lt;a href=&#34;/zendocs_test1/user/admin_pages/configuration/configuration_emailoptions/#email_archiving_active&#34;&gt;Email Archiving Active&lt;/a&gt; configuration value to &lt;em&gt;true&lt;/em&gt;, and you may view stored emails using &lt;a href=&#34;/zendocs_test1/user/email/email_archive_manager/&#34;&gt;Email Archive Manager&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This &lt;code&gt;email_archive&lt;/code&gt; table, where emails are stored, grows large
quickly, so be sure to cull it frequently.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User: Why do emails not show in HTML format?</title>
      <link>/zendocs_test1/user/email/email_html_not_shown/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/zendocs_test1/user/email/email_html_not_shown/</guid>
      <description>
        
        
        &lt;p&gt;HTML-formatted emails are SENT &lt;em&gt;only&lt;/em&gt; when ALL of the following conditions are met:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTML/MIME format is enabled in your admin&lt;/li&gt;
&lt;li&gt;Customer has elected to choose HTML-formatted emails&lt;/li&gt;
&lt;li&gt;You have the HTML email templates present in the /email/ folder of your site, and haven&amp;rsquo;t changed permissions in any way that would prevent PHP from reading them (defaults are recommended)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Occasionally even though the email may be SENT in HTML format, it may ARRIVE without the HTML section displaying properly, for a few possible reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;your hosting company&amp;rsquo;s webserver stripped the HTML out because it appeared to violate a spam rule&lt;/li&gt;
&lt;li&gt;the recipient&amp;rsquo;s hosting company stripped the HTML out because it appeared to violate a spam rule&lt;/li&gt;
&lt;li&gt;the recipient is using a free webmail-based email reader which alters the HTML content in a way that prevents your content from being displayed as desired&lt;/li&gt;
&lt;li&gt;you composed the email (altered the HTML in the template) to use advanced XHTML/CSS that&amp;rsquo;s not supported by the recipient&amp;rsquo;s email client&lt;/li&gt;
&lt;li&gt;the recipient is using an email program which doesn&amp;rsquo;t render the HTML portion properly&lt;/li&gt;
&lt;li&gt;the recipient has changed their email program settings to disallow HTML content, either as a general rule or perhaps only from senders whom they&amp;rsquo;ve not whitelisted as known senders&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Be sure to review the troubleshooting FAQs for other tips related to potential delivery problems.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/email/email_introduction/&#34;&gt;Introduction to email&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/email/emails_not_received/&#34;&gt;Basic email troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/zendocs_test1/user/email/advanced_email_troubleshooting/&#34;&gt;Advanced Email Troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
  </channel>
</rss>
